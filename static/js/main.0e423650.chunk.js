(this.webpackJsonprealplaza=this.webpackJsonprealplaza||[]).push([[0],{339:function(e){e.exports=JSON.parse("{}")},342:function(e,t,a){},343:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),s=a(38),c=a.n(s),r=a(23),l=a(15),i=a(3),d=a(6),u=a(5),b="https://admin.qonteo.com/REST",j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=localStorage.getItem("token-qonteo")||"",o="".concat(b,"/").concat(e);return"GET"===a?fetch(o,{headers:{Authorization:n}}):fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b).concat(e),o=localStorage.getItem("token-qonteo")||"";return"GET"===a?fetch(n,{method:a,headers:{Authorization:o}}):"POST"===a?fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:o},body:JSON.stringify(t)}):fetch(n,{method:"POST",headers:{Authorization:o},body:t})},O={authChecking:"[auth] Checking login state",authCheckingFinish:"[auth] Finish Checking login state",authStartLogin:"[auth] Start login",authLogin:"[auth] Login",logout:"[Auth] Logout",authStartRegister:"[auth] Start Register",authLogout:"[auth] Logout",initializePerson:"[Person] Initialize Data",changeDate:"[Date] set New Date",getToten:"[Toten] get Data Toten",initialDataTrazabilidad:"[Trazabilidad] get data init Trazabilidad",changeTrazabilidadByHour:"[Trazabilidad] set Data by hour",resetDates:"[Date] reset Dates",groupUrl:"realplaza",groupName:"Real Plaza",groupId:"7576",groupCode:"PE.CCRP"},x=function(e,t){var a=e.token,n=e.user;return function(){var e=Object(d.a)(Object(i.a)().mark((function e(o){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("token-qonteo","bear ".concat(a)),localStorage.setItem("id-user-qonteo",n._id),localStorage.setItem("group-id-qonteo",String(t)),localStorage.setItem("token-init-date-qonteo",(new Date).getTime()),o(p({uid:n._id,firstNames:n.firstNames,lastName:n.lastName,email:n.email,phonenumber:n.phonenumber,portraitUrl:n.portrait_url,country:n.country,groups:n.groups,city:n.city,isCheking:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){return{type:O.authChecking}},p=function(e){return{type:O.authLogin,payload:e}},v=a(11),g=a(8),f=a(0),y=o.a.memo((function(e){var t=e.children;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"headerTop d-flex auth",children:[Object(f.jsx)("img",{className:"imgSmall",src:"/assets/images/header/onlysoda.png",alt:"logosoda"}),Object(f.jsxs)("h1",{className:"titleHeadAuth",children:["data ",Object(f.jsx)("br",{}),"street ",Object(f.jsx)("br",{}),"performance"]})]}),Object(f.jsxs)("div",{className:"w-100 text-center logoMiddle",children:[Object(f.jsx)("img",{src:"/assets/images/header/soda.png"}),Object(f.jsxs)("div",{className:"groupIcons mtMedium",children:[Object(f.jsx)("img",{src:"/assets/icons/camara.svg"}),Object(f.jsx)("img",{src:"/assets/icons/auto.svg"}),Object(f.jsx)("img",{src:"/assets/icons/person-inspect.svg"})]})]}),t]})})),S=a(10),A=function(e){var t=e.groups,a=e.data,o=Object(n.useRef)(null),s=Object(S.b)(),c=function(){var e=Object(d.a)(Object(i.a)().mark((function e(){var t,n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=o.current.value.split(","))[0]!==O.groupId){e.next=9;break}return e.next=4,j("login",a,"POST");case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",s(x(c,t[0])));case 9:window.location.href="https://".concat(t[1],".qonteo.com/");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"chooseGroup",children:[Object(f.jsxs)("select",{ref:o,name:"groupNumber",children:[Object(f.jsx)("option",{hidden:!0,children:"Seleccione un grupo"}),t.map((function(e,t){return Object(f.jsx)("option",{value:[e.id,e.name],children:e.code},t)}))]}),Object(f.jsx)("button",{className:"btn choose",onClick:c,children:"Ir"})]})},N=a(17),E=a.n(N),D=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(!1),c=Object(u.a)(s,2),l=c[0],b=c[1],m=Object(n.useState)(!1),h=Object(u.a)(m,2),p=h[0],N=h[1],D=Object(n.useState)([]),T=Object(u.a)(D,2),P=T[0],M=T[1],w=Object(S.b)(),k=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),o=a[0],s=a[1];return[o,function(e){var t=e.target;s(Object(g.a)(Object(g.a)({},o),{},Object(v.a)({},t.name,t.value)))}]}({email:"",password:""}),C=Object(u.a)(k,2),R=C[0],_=C[1],F=R.email,I=R.password,L=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t){var a,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""===F||""===I){e.next=24;break}return b(!0),e.next=6,j("login",R,"POST");case 6:return e.next=8,e.sent.json();case 8:if(!(a=e.sent).errors){e.next=12;break}return b(!1),e.abrupt("return",E.a.fire("Error","Las credenciales son invalidas","error"));case 12:if(n=a.user.groups,b(!1),0!==n.length&&n){e.next=17;break}return e.abrupt("return",o("No tiene acceso a este sitio"));case 17:if(1!==n.length||n[0].code===O.groupCode){e.next=19;break}return e.abrupt("return",o("No pertenece a este grupo"));case 19:if(1!==n.length||n[0].code!==O.groupCode){e.next=21;break}return e.abrupt("return",w(x(a)));case 21:return N(!0),M(n),e.abrupt("return");case 24:E.a.fire("Error","Los campos no pueden estar vacios","error"),e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(1),new Error("ocurrio un error al realizar la peticion");case 30:case"end":return e.stop()}}),e,null,[[1,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(y,{children:Object(f.jsx)("div",{className:"contenedor",children:p?Object(f.jsx)(A,{groups:P,data:R}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"error spaceTopSmall d-block text-center",children:a&&a}),Object(f.jsxs)("form",{onSubmit:L,className:"formLogin spaceBottomSmall",children:[Object(f.jsx)("input",{type:"text",name:"email",onChange:_,placeholder:"Correo electr\xf3nico",value:F}),Object(f.jsx)("input",{type:"password",name:"password",onChange:_,placeholder:"Contrase\xf1a",value:I}),Object(f.jsx)("div",{className:"forgotPass text-rigth",children:Object(f.jsx)("span",{className:"link ",children:"\xbfOlvidaste tu contrase\xf1a?"})}),Object(f.jsx)("input",{type:"submit",value:l?"Cargando...":"Iniciar Ses\xedon",className:"btn btn-login"}),Object(f.jsx)(r.b,{className:"link mtSmall text-center w-100 d-block",to:"/auth/registrarse",children:"Registrarse"})]})]})})})},T=function(){return Object(f.jsx)(y,{children:Object(f.jsx)("div",{className:"contenedor",children:Object(f.jsxs)("form",{className:"formLogin spaceBottomSmall",children:[Object(f.jsx)("input",{type:"text",name:"rFirstname",id:"firstname",autoComplete:"off",placeholder:"Nombre"}),Object(f.jsx)("input",{type:"text",name:"rLastname",id:"lastname",autoComplete:"off",placeholder:"Apellidos"}),Object(f.jsx)("input",{type:"text",name:"lEmail",id:"correolog",placeholder:"Correo electr\xf3nico"}),Object(f.jsx)("input",{type:"password",name:"lPassword",id:"contralog",placeholder:"Contrase\xf1a"}),Object(f.jsx)("input",{type:"submit",value:"Registrarse",className:"btn btn-login"}),Object(f.jsx)(r.b,{className:"link mtSmall text-center w-100 d-block",to:"/auth/login",children:"Ingresar"})]})})})},P=a(345),M=a(187),w=a(188),k=Object(P.default)(new Date,"yyyy-MM-dd"),C=Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),R=Object(P.default)(Object(w.default)(new Date,1),"yyyy-MM-dd"),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(d.a)(Object(i.a)().mark((function t(a,n){var o,s,c,r,l,d,u,b,j,x,h,p,v,g,f,y,S,A,N,E,D,T,P,M,w,_,F,I,L;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n().auth.groups,t.prev=1,7576,t.next=5,m("/get-person-graphics?heatmap_p=true&range_p=true&date_to=".concat(k,"&date_from=").concat(C,"&resource=").concat(e,"&group_id=").concat(O.groupId));case 5:return t.next=7,t.sent.json();case 7:return o=t.sent,t.next=10,m("/get-person-graphics?heatmap_p=true&age_range_p=true&date_from=".concat(R,"&date_to=").concat(k,"&resource=").concat(e,"&group_id=").concat(O.groupId));case 10:return t.next=12,t.sent.json();case 12:s=t.sent,c=o.hours,r=o.week,l=o.heatmap,d=o.heatmap_range,u=o.ageRanges,b=o.max_hour,j=o.max_hour_female,x=o.max_hour_male,h=o.max_week_day,p=o.max_week_day_female,v=o.max_week_day_male,g=s.month,f=s.max_month_day,y=s.max_month_day_female,S=s.max_month_day_male,A=g.map((function(e){return{label:e.day,x:e.day,y:e.total}})),N=g.map((function(e){return{label:e.day,x:e.day,y:e.male}})),E=g.map((function(e){return{label:e.day,x:e.day,y:e.female}})),D=c.map((function(e){return{label:e.time,x:e.hour,y:e.total}})),T=c.map((function(e){return{label:e.time,x:e.hour,y:e.male}})),P=c.map((function(e){return{label:e.time,x:e.hour,y:e.female}})),M=r.map((function(e){return{label:e.dow,x:e.dow,y:e.total}})),w=r.map((function(e){return{label:e.dow,x:e.dow,y:e.male}})),_=r.map((function(e){return{label:e.dow,x:e.dow,y:e.female}})),F=l.map((function(e){return{label:e.time,x:e.day,y:e.total}})),I=d.map((function(e){return{label:e.color,x:e.range,y:e.color}})),L=[],u&&(L=u.map((function(e){return{label:e.range,x:e.male,y:e.female}}))),a(Y({hoursPersonTotal:D,hoursPersonMale:T,hoursPersonFemale:P,weekPersonTotal:M,weekPersonMale:w,weekPersonFemale:_,heatmapPersonTotal:F,heatmapPersonRange:I,rangePersonAges:L,maxHourPersonTotal:b,maxHourPersonMale:x,maxHourPersonFemale:j,maxWeekPersonTotal:h,maxWeekPersonMale:v,maxWeekPersonFemale:p,monthPersonTotal:A,monthPersonMale:N,monthPersonFemale:E,maxMonthPersonTotal:f,maxMonthPersonMale:S,maxMonthPersonFemale:y})),t.next=33;break;case 31:t.prev=31,t.t0=t.catch(1);case 33:case"end":return t.stop()}}),t,null,[[1,31]])})));return function(e,a){return t.apply(this,arguments)}}()},F=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a,n,o){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/get-person-graphics?heatmap_p=true&age_range_p=true&date_from=".concat(t,"&date_to=").concat(a,"&resource=").concat(n,"&group_id=").concat(O.groupId));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}(),I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return function(){var o=Object(d.a)(Object(i.a)().mark((function o(s,c){var r,l,d,u,b,j,m,x;return Object(i.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=c().auth.groups,o.prev=1,d=r.filter((function(e){return e.code===O.groupId}))[0].id,o.next=5,F(e,t,a,d);case 5:u=o.sent,b=u.hours.map((function(e){return{label:e.time,x:e.hour,y:e[n]}})),j=n.charAt(0).toLocaleUpperCase()+n.substr(1,n.length),m="hoursPerson"+j,x=u.max_hour,"total"!==n&&(x=u["max_hour_".concat(n)]),s(Y((l={},Object(v.a)(l,m,b),Object(v.a)(l,"maxHourPerson".concat(j),x),l))),o.next=16;break;case 14:o.prev=14,o.t0=o.catch(1);case 16:case"end":return o.stop()}}),o,null,[[1,14]])})));return function(e,t){return o.apply(this,arguments)}}()},L=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return function(){var o=Object(d.a)(Object(i.a)().mark((function o(s,c){var r,l,d,u,b,j,m,x;return Object(i.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=c().auth.groups,o.prev=1,d=r.filter((function(e){return e.code===O.groupName}))[0].id,o.next=5,F(e,t,a,d);case 5:u=o.sent,b=u.week.map((function(e){return{label:e.dow,x:e.dow,y:e[n]}})),j=n.charAt(0).toLocaleUpperCase()+n.substr(1,n.length),m="weekPerson"+j,x=u.max_week_day,"total"!==n&&(x=u["max_week_day_".concat(n)]),s(Y((l={},Object(v.a)(l,m,b),Object(v.a)(l,"maxWeekPerson".concat(j),x),l))),o.next=16;break;case 14:o.prev=14,o.t0=o.catch(1);case 16:case"end":return o.stop()}}),o,null,[[1,14]])})));return function(e,t){return o.apply(this,arguments)}}()},H=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return function(){var o=Object(d.a)(Object(i.a)().mark((function o(s,c){var r,l,d,u,b,j,m,x;return Object(i.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=c().auth.groups,o.prev=1,d=r.filter((function(e){return e.code===O.groupName}))[0].id,o.next=5,F(e,t,a,d);case 5:u=o.sent,b=u.month.map((function(e){return{label:e.day,x:e.day,y:e[n]}})),j=n.charAt(0).toLocaleUpperCase()+n.substr(1,n.length),m="monthPerson"+j,x=u.max_month_day,"total"!==n&&(x=u["max_month_day_".concat(n)]),s(Y((l={},Object(v.a)(l,m,b),Object(v.a)(l,"maxMonthPerson".concat(j),x),l))),o.next=16;break;case 14:o.prev=14,o.t0=o.catch(1);case 16:case"end":return o.stop()}}),o,null,[[1,14]])})));return function(e,t){return o.apply(this,arguments)}}()},B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(d.a)(Object(i.a)().mark((function n(o,s){var c,r,l,d;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=s().auth.groups,n.prev=1,c.filter((function(e){return e.code===O.groupId}))[0].id,n.next=5,m("/get-person-graphics?date_from=".concat(e,"&date_to=").concat(t,"&age_range_p=true&group_id=").concat(O.groupId,"&resource=").concat(a,"&heatmap_p=true"));case 5:return n.next=7,n.sent.json();case 7:r=n.sent,l=r.heatmap.map((function(e){return{label:e.time,x:e.day,y:e.total}})),d=r.heatmap_range.map((function(e){return{label:e.color,x:e.range,y:e.color}})),console.log(l),o(Y({heatmapPersonTotal:l,heatmapPersonRange:d})),n.next=16;break;case 14:n.prev=14,n.t0=n.catch(1);case 16:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e,t){return n.apply(this,arguments)}}()},z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(d.a)(Object(i.a)().mark((function n(o,s){var c,r,l;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=s().auth.groups,n.prev=1,c.filter((function(e){return e.code===O.changeTrazabilidadByHour}))[0].id,n.next=5,m("/get-person-graphics?date_from=".concat(e,"&date_to=").concat(t,"&age_range_p=true&group_id=").concat(O.groupId,"&totem=").concat(a,"&heatmap_p=true"));case 5:return n.next=7,n.sent.json();case 7:r=n.sent,l=r.ageRanges.map((function(e){return{label:e.range,x:e.male,y:e.female}})),o(Y({rangePersonAges:l})),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t){return n.apply(this,arguments)}}()},Y=function(e){return{type:O.initializePerson,payload:e}},G=a(35),U=o.a.memo((function(e){var t=e.data,a=void 0===t?[]:t,n=e.label,o=e.dtsetbg,s=e.optionbg,c=e.scalebg,r=e.title,l=e.labelop,i=e.legendbg,d=void 0===i?"black":i,u=e.scltxtlbl,b=void 0!==u&&u,j=e.pl,m=void 0===j?0:j,O=e.pr,x=void 0===O?0:O,h=e.pb,p=void 0===h?0:h,v=e.pt,g=void 0===v?0:v,y=e.theme,S=void 0===y?"ligth":y,A=e.id,N=void 0===A?"":A;return Object(f.jsx)(f.Fragment,{children:0===a.length?Object(f.jsx)("div",{className:"__loader_grafic",children:Object(f.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(f.jsx)("div",{className:"flex-center",children:Object(f.jsx)("div",{id:N,className:"contenedorChart  ".concat(S," classtest"),children:Object(f.jsx)(G.Bar,{data:{labels:a.map((function(e){return e.x})),datasets:[{label:"".concat(n),backgroundColor:"".concat(o),data:a.map((function(e){return e.y})),borderWidth:0}],borderWidth:0},options:{cornerRadius:20,title:{display:!0,fontSize:30,fontColor:"".concat(s),fontFamily:"Barlow",fontStyle:400},layout:{padding:{left:m,right:x,top:g,bottom:p}},legend:{position:"bottom",labels:{padding:20,boxWidth:15,fontSize:18,fontFamily:"Barlow",fontColor:"".concat(d)}},tooltips:{enabled:!0,mode:"single",callbacks:{title:function(e,t){return"".concat(r)+a[e[0].index].label},label:function(e,t){return"".concat(l)+e.yLabel}}},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{fontColor:"".concat(c),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!1},scaleLabel:{display:!1,labelString:"".concat(b),fontSize:18}}],xAxes:[{ticks:{fontColor:"".concat(c),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!1}}]}}})})})})})),W=function(){return Object(f.jsx)("div",{})},X=o.a.memo((function(){return Object(f.jsxs)("div",{className:"headerTop grid3",children:[Object(f.jsx)("img",{src:"/assets/images/header/logosoda.png",alt:"logosoda"}),Object(f.jsx)("img",{src:"/assets/images/header/soda.png",alt:"logo"}),Object(f.jsx)("div",{className:"iconNotify",children:Object(f.jsx)("img",{src:"/assets/icons/notify.svg",alt:"notify"})})]})})),q=o.a.memo((function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(S.b)(),c=Object(l.g)(),i=Object(n.useRef)(null);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{ref:i,className:"iconCloseOpen",onClick:function(){i.current.parentNode.classList.toggle("open"),document.querySelector(".contentScreens").classList.toggle("open"),o(!a)},children:Object(f.jsx)("img",{src:"".concat(a?"/assets/icons/close.svg":"/assets/icons/closeopen.svg"," "),alt:"iconClose"})}),Object(f.jsxs)("div",{className:"icons",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)(r.b,{exact:!0,to:"/",activeClassName:"activeIcon",className:"icon",children:[Object(f.jsx)("img",{src:"/assets/icons/home.svg",alt:"iconHome"}),Object(f.jsx)("span",{className:"titleIcon",children:"Home"})]}),Object(f.jsxs)(r.b,{exact:!0,to:"/",activeClassName:"activeIcon",className:"icon",children:[Object(f.jsx)("span",{className:"nameIcon",children:"Oportunidades"}),Object(f.jsx)("img",{src:"/assets/icons/person.svg",alt:"iconPerson"}),Object(f.jsx)("span",{className:"titleIcon",children:"Personas"})]}),Object(f.jsxs)("div",{className:"icon-two",children:[Object(f.jsx)("span",{className:"nameIcon",children:"Reportes"}),Object(f.jsx)("div",{className:"icon ".concat(c.pathname.includes("especifico")?"activeIcon":""),children:Object(f.jsxs)(r.b,{exact:!0,to:"/reportes/especifico",children:[Object(f.jsx)("img",{src:"/assets/icons/report.svg",className:"w-4 l-2",alt:"iconPerson"}),Object(f.jsx)("span",{className:"titleIcon",children:"Especifico"})]})})]})]}),Object(f.jsx)("div",{className:"pweroff",children:Object(f.jsx)("img",{onClick:function(){localStorage.clear(),s({type:O.authChecking})},src:"/assets/icons/closesession.svg",alt:"iconPerson"})})]})]})})),J=o.a.memo((function(e){var t=e.children,a=e.isSidebar,n=void 0===a||a;return Object(f.jsxs)("div",{className:"mainScreens",children:[n&&Object(f.jsx)("div",{className:"contentSidebar",children:Object(f.jsx)(q,{})}),Object(f.jsxs)("div",{className:"contentScreens ".concat(!n&&"m-0"),children:[Object(f.jsx)(X,{}),t,Object(f.jsx)(W,{})]})]})})),V=function(e){return null===e?0:null===e||void 0===e?void 0:e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=Math.round(100*t/e);return isNaN(a)||a===Number.POSITIVE_INFINITY?0:a},Q=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.percent,c=void 0===s?0:s,r=e.txtdetail,l=void 0===r?"":r,i=(new Date).toLocaleDateString();return Object(f.jsxs)("div",{className:"boxUI flexColumn ".concat(a),children:[Object(f.jsx)("span",{className:"boxDate",children:i}),Object(f.jsxs)("div",{className:"main",children:[Object(f.jsxs)("div",{className:"boxBody date",children:[Object(f.jsxs)("span",{className:"boxPercent",children:[c>0?"+":0===c?"":"-"," ",c,"%"]}),Object(f.jsx)("span",{className:"boxCount",children:V(o)}),Object(f.jsx)("span",{className:"boxDay",children:l})]}),Object(f.jsx)("div",{className:"boxFooter mtBox",children:"Personas en Total"})]})]})},$=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.txtdetail,c=void 0===s?"":s,r=new Date,l=r.getDate()+"-"+["Ene","Feb","Marc","Abr","Mai","Jun","Jul","Aug","Set","Oct","Nov","Dec"][r.getMonth()]+"-"+r.getFullYear();return Object(f.jsxs)("div",{className:"boxUI flexColumn ".concat(a),children:[Object(f.jsxs)("div",{className:"rangeDate",children:[Object(f.jsx)("span",{className:"boxDate",children:"16-Nov-2022"}),Object(f.jsx)("span",{className:"boxDate",children:l})]}),Object(f.jsxs)("div",{className:"main",children:[Object(f.jsxs)("div",{className:"boxBody",children:[Object(f.jsx)("span",{className:"boxCount ",children:V(o)}),Object(f.jsx)("span",{className:"BoxText mtBox",children:c})]}),Object(f.jsx)("div",{className:"boxFooter mtBox",children:"Personas en Total"})]})]})},K=function(e){var t=e.gender,a=e.theme,n=void 0===a?"dark":a,o=e.total,s=void 0===o?0:o,c=e.count,r=void 0===c?0:c;return Object(f.jsx)("div",{className:"boxUI flex gender ".concat(n),children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"boxBody",children:["male"===t?Object(f.jsx)("img",{className:"icongender",src:"dark"===n?"/assets/icons/male-white.svg":"/assets/icons/male-dark.svg"}):Object(f.jsx)("img",{className:"icongender",src:"dark"===n?"/assets/icons/female-white.svg":"/assets/icons/female-dark.svg"}),Object(f.jsx)("span",{className:"count boxCountGender",children:V(r)}),Object(f.jsx)("span",{className:" mtBox",children:"male"===t?"HOMBRES":"MUJERES"})]}),Object(f.jsx)("div",{className:"boxFooter mtBox",children:Object(f.jsxs)("span",{className:"boxPercent",children:[Z(s,r)," %"]})})]})})},ee=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.txtdetail,c=void 0===s?"AYER":s;return Object(f.jsx)("div",{className:"boxUI flex ".concat(a),children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("div",{className:"boxBody",children:[Object(f.jsx)("span",{className:"boxCount",children:V(o)}),Object(f.jsx)("span",{className:"boxDay mtBox",children:c})]}),Object(f.jsx)("div",{className:"boxFooter mtBox",children:"Personas en Total"})]})})},te=function(e){var t=e.theme,a=void 0===t?"dark":t,n=e.count,o=void 0===n?0:n,s=e.percent,c=void 0===s?0:s,r=e.txtdetail,l=void 0===r?"Personas en Total":r;return Object(f.jsx)("div",{className:"boxUI flex ".concat(a),children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("div",{className:"boxBody",children:[Object(f.jsxs)("span",{className:"boxPercent",children:[c>0?"+":0===c?"":"-"," ",c,"%"]}),Object(f.jsx)("span",{className:"boxCount mtBox",children:V(o)}),Object(f.jsx)("span",{className:"boxDay mtBox",children:l})]}),Object(f.jsx)("div",{className:"boxFooter mtBox",children:"Personas en Total"})]})})};G.Chart.elements.Rectangle.prototype.draw=function(){var e,t,a,n,o,s,c,r=this._chart.ctx,l=this._view,i=l.borderWidth,d=this._chart.config.options.cornerRadius;if(d<0&&(d=0),"undefined"===typeof d&&(d=0),l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,n=l.y+l.height/2,o=t>e?1:-1,s=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,o=1,s=(n=l.base)>a?1:-1,c=l.borderSkipped||"bottom"),i){var u=Math.min(Math.abs(e-t),Math.abs(a-n)),b=(i=i>u?u:i)/2,j=e+("left"!==c?b*o:0),m=t+("right"!==c?-b*o:0),O=a+("top"!==c?b*s:0),x=n+("bottom"!==c?-b*s:0);j!==m&&(a=O,n=x),O!==x&&(e=j,t=m)}r.beginPath(),r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=i;var h=[[e,n],[e,a],[t,a],[t,n]],p=["bottom","left","top","right"].indexOf(c,0);function v(e){return h[(p+e)%4]}-1===p&&(p=0);var g=v(0);r.moveTo(g[0],g[1]);for(var f=1;f<4;f++){g=v(f);var y=f+1;4===y&&(y=0),v(y);var S=h[2][0]-h[1][0],A=h[0][1]-h[1][1],N=h[1][0],E=h[1][1],D=d;if(D>Math.abs(A)/2&&(D=Math.floor(Math.abs(A)/2)),D>Math.abs(S)/2&&(D=Math.floor(Math.abs(S)/2)),A<0){var T=N,P=N+S,M=E+A,w=E+A,k=N,C=N+S,R=E,_=E;r.moveTo(k+D,R),r.lineTo(C-D,_),r.quadraticCurveTo(C,_,C,_-D),r.lineTo(P,w+D),r.quadraticCurveTo(P,w,P-D,w),r.lineTo(T+D,M),r.quadraticCurveTo(T,M,T,M+D),r.lineTo(k,R-D),r.quadraticCurveTo(k,R,k+D,R)}else if(S<0){var F=N+S,I=N,L=E,H=E,B=N+S,z=N,Y=E+A,G=E+A;r.moveTo(B+D,Y),r.lineTo(z-D,G),r.quadraticCurveTo(z,G,z,G-D),r.lineTo(I,H+D),r.quadraticCurveTo(I,H,I-D,H),r.lineTo(F+D,L),r.quadraticCurveTo(F,L,F,L+D),r.lineTo(B,Y-D),r.quadraticCurveTo(B,Y,B+D,Y)}else r.moveTo(N+D,E),r.lineTo(N+S-D,E),r.quadraticCurveTo(N+S,E,N+S,E+D),r.lineTo(N+S,E+A-D),r.quadraticCurveTo(N+S,E+A,N+S-D,E+A),r.lineTo(N+D,E+A),r.quadraticCurveTo(N,E+A,N,E+A-D),r.lineTo(N,E+D),r.quadraticCurveTo(N,E,N+D,E)}r.fill(),i&&r.stroke()};var ae=a(49),ne=a.n(ae),oe=(a(128),a(56)),se=a(282),ce=a(283),re=a(284),le=function(e,t,a,n){return{type:O.changeDate,start:e,startvalue:t,end:a,endvalue:n}},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=Object(S.b)(),l=Object(S.c)((function(e){return e.date})),i=Object(n.useState)(Object(oe.default)(new Date(l[o]),1)),d=Object(u.a)(i,2),b=d[0],j=d[1],m=Object(n.useState)(Object(oe.default)(new Date(l[s]),1)),O=Object(u.a)(m,2),x=O[0],h=O[1],p=function(n){var c=Object(P.default)(n,"yyyy-MM-dd"),l=Object(P.default)(x,"yyyy-MM-dd"),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),d=new Intl.DateTimeFormat("en",{month:"numeric"}).format(n),u=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n),b=new Intl.DateTimeFormat("en",{year:"numeric"}).format(x),m=new Intl.DateTimeFormat("en",{month:"numeric"}).format(x),O=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(x);if(Object(se.default)(new Date(i,d,u),new Date(b,m,O))||Object(ce.default)(new Date(i,d,u),new Date(b,m,O)))return E.a.fire("Error","La fecha Inicio debe ser menor que la fecha de fin","error");j(n),r(e(c,l,t,a)),r(le(o,c,s,l))},v=function(n){var c=Object(P.default)(b,"yyyy-MM-dd"),l=Object(P.default)(n,"yyyy-MM-dd"),i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(b),d=new Intl.DateTimeFormat("en",{month:"numeric"}).format(b),u=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(b),j=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),m=new Intl.DateTimeFormat("en",{month:"numeric"}).format(n),O=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n);if(Object(re.default)(new Date(j,m,O),new Date(i,d,u))||Object(ce.default)(new Date(i,d,u),new Date(j,m,O)))return E.a.fire("Error","La fecha fin debe ser mayor que la fecha de inicio","error");h(n),r(e(c,l,t,a)),r(le(o,c,s,l))},g=function(){return Object(f.jsxs)("div",{className:"filterDate",children:[Object(f.jsxs)("div",{className:"date",children:[Object(f.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(f.jsx)(ne.a,{selected:b,onChange:p,format:"yyyy-MM-dd",maxDate:new Date,showMonthYearPicker:c})]}),Object(f.jsxs)("div",{className:"date",children:[Object(f.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(f.jsx)(ne.a,{selected:x,onChange:v,format:"yyyy-MM-dd",maxDate:new Date,showMonthYearPicker:c})]})]})};return[g,b,x,j,h]},de=function(e){var t=e.data,a=e.label,n=e.dtsetbg,o=e.optionbg,s=e.scalebg,c=e.title,r=e.labelop,l=e.legendbg,i=void 0===l?"black":l,d=(e.sexo,e.lineColor),u=void 0===d?"#5BCDFA":d,b=e.scltxtlbl,j=void 0===b?"Cantidad de veh\xedculos":b,m=e.pl,O=void 0===m?0:m,x=e.pr,h=void 0===x?0:x,p=e.pb,v=void 0===p?0:p,g=e.pt,y=void 0===g?0:g,S=e.theme,A=void 0===S?"ligth":S,N=e.id,E=void 0===N?"":N;return Object(f.jsx)(f.Fragment,{children:0===t.length?Object(f.jsx)("div",{className:"__loader_grafic",children:Object(f.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(f.jsx)("div",{className:"flex-center",children:Object(f.jsx)("div",{id:E,className:"contenedorChart  ".concat(A," classtest"),children:Object(f.jsx)(G.Line,{data:{labels:t.map((function(e){return e.x})),datasets:[{label:"".concat(a),backgroundColor:"".concat(n),data:t.map((function(e){return e.y})),lineTension:.1,borderDashOffset:0,borderJoinStyle:"miter",borderCapStyle:"butt",pointBorderWidth:1,pointHoverRadius:5}],borderWidth:1},options:{cornerRadius:20,title:{display:!0,fontSize:30,padding:50,fontColor:"".concat(o),fontFamily:"Barlow",fontStyle:400},layout:{padding:{left:O,right:h,top:y,bottom:v}},legend:{position:"bottom",labels:{padding:20,boxWidth:15,fontSize:18,fontFamily:"Barlow",fontColor:"".concat(i)}},elements:{line:{borderWidth:5,fill:!1,borderColor:"".concat(u),tension:.5},point:{radius:6}},tooltips:{enabled:!0,mode:"single",callbacks:{title:function(e,a){return"".concat(c," ")+t[e[0].index].label},label:function(e,t){return"".concat(r," ")+e.yLabel}}},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{fontColor:"".concat(s),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!0,drawBorder:!1,zeroLineColor:"#FEE700",zeroLineWidth:3},scaleLabel:{display:!0,labelString:"".concat(j),fontSize:18}}],xAxes:[{ticks:{fontColor:"".concat(s),fontSize:18,fontFamily:"Barlow",fontStyle:600,beginAtZero:!0},gridLines:{display:!1}}]}}})})})})},ue=a(42),be=(a(112),Object(n.memo)((function(e){var t=e.data,a=e.range,o=Object(n.useRef)();Object(n.useEffect)((function(){return c(t),function(){s()}}),[t]),Object(n.useEffect)((function(){!function(){var e=setTimeout((function(){0===t.length&&document.querySelector(".heatmaploading")&&document.querySelector(".heatmaploading").parentElement.parentElement.removeChild(document.querySelector(".heatmaploading").parentElement)}),5e3)}()}),[]);var s=function(){o.current&&null!==o.current.querySelector("svg")&&o.current.querySelector("svg").remove()},c=function(e){if(e.length>0){var t={top:30,right:200,bottom:200,left:50},a=900-t.left-t.right,n=950-t.top-t.bottom,s=ue.e(o.current).attr("align","center").append("svg").attr("width",700).attr("height",750).append("g").attr("transform","translate("+t.left+","+t.top+")"),c=ue.c().range([0,a]).domain(["DOM","LUN","MAR","MIE","JUE","VIE","SAB"]).padding(.01);s.append("g").attr("transform","translate(0, 0)").call(ue.b(c));var r=ue.c().range([n,0]).domain(["23:00h","22:00h","21:00h","20:00h","19:00h","18:00h","17:00h","16:00h","15:00h","14:00h","13:00h","12:00h","11:00h","10:00h","9:00h","8:00h","7:00h","6:00h","5:00h","4:00h","3:00h","2:00h","1:00h","0:00h"]).padding(.01);s.append("g").call(ue.a(r));var l=e.map((function(e){return e.y})),i=ue.d().range(["#5BCDFA","#5EAFFE","#4782F5","#3450EF","#0502D3"]).domain(l),d=s.selectAll().data(e,(function(e){return e.x+":"+e.label})).enter().append("g").attr("transform",(function(e){return"translate("+c(e.x)+","+r(e.label)+")"}));d.append("rect").attr("width",c.bandwidth()).attr("height",r.bandwidth()).style("fill",(function(e){return i(e.y)})),d.append("text").attr("x",c.bandwidth()/2).attr("y",r.bandwidth()/2+4).text((function(e){return e.y})).style("font-family","Barlow").style("font-size","8pt").style("fill","white").style("text-anchor","middle")}};return Object(f.jsx)(f.Fragment,{children:0===t.length?Object(f.jsx)("div",{className:"__loader_grafic heatmaploading",children:Object(f.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"rangeHeatMap",children:a.map((function(e,t){var a=e.x;return Object(f.jsxs)("div",{className:"range",children:[Object(f.jsx)("span",{children:a}),Object(f.jsx)("div",{className:"bgColorHeatMap"})]},t)}))}),Object(f.jsx)("div",{className:"mtxl text-center",ref:o})]})})}))),je=o.a.memo((function(e){var t=e.data,a=void 0===t?[]:t,n=e.id,o=void 0===n?"":n;return Object(f.jsx)(f.Fragment,{children:0===a.length?Object(f.jsx)("div",{className:"__loader_grafic",children:Object(f.jsx)("img",{src:"/assets/load/qonteo.gif",alt:"spinner_loaded"})}):Object(f.jsx)("div",{className:"flex-center",children:Object(f.jsx)("div",{id:o,className:"contenedorChart  classtest",children:Object(f.jsx)(G.HorizontalBar,{data:{labels:a.map((function(e){return e.label})),datasets:[{label:"Hombres",backgroundColor:"#0502D3",data:a.map((function(e){return e.x}))},{label:"Mujeres",backgroundColor:"#1EAEF0",data:a.map((function(e){return-1*e.y}))}]},options:{cornerRadius:20,title:{display:!0,fontSize:30,padding:30,fontColor:"#454545",fontFamily:"Barlow",fontStyle:400},maintainAspectRatio:!1,legend:{position:"bottom",labels:{padding:20,boxWidth:15,fontFamily:"system-ui",fontColor:"black"},reverse:!0},tooltips:{titleFontSize:20,xPadding:20,yPadding:20,bodyFontSize:15,bodySpacing:10,callbacks:{title:function(e,t){return"Edad:  "+t.labels[e[0].index]+" a\xf1os"},label:function(e,t){var a=-1===Math.sign(t.datasets[e.datasetIndex].data[e.index])?-1*t.datasets[e.datasetIndex].data[e.index]:t.datasets[e.datasetIndex].data[e.index];return t.datasets[e.datasetIndex].label+": "+a}}},elements:{line:{borderWidth:8,fill:!1}},scales:{xAxes:[{stacked:!1,ticks:{beginAtZero:!0},gridLines:{display:!1}}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0},gridLines:{display:!1},scaleLabel:{display:!0,labelString:"Edad",fontSize:18},position:"left"}]}}})})})})})),me=Object(P.default)(new Date,"yyyy-MM-dd"),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,i=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],b=Object(n.useState)(Object.keys(e)[l]),j=Object(u.a)(b,2),m=j[0],O=j[1],x=Object(S.b)(),h=function(e,n){if(e.classList.contains("active"))return!1;var r=Object(M.default)(new Date,n),l=Object(P.default)(r,"yyyy-MM-dd");x(t(l,me,a,o)),i&&(i(new Date(r)),d(Object(oe.default)(new Date(me),1))),O(n),x(le(s,l,c,me))},p=function(){O(Object.keys(e)[1])},v=function(){return Object(f.jsx)("div",{reset:r+"rst",className:"groupButtons text-center spaceBottom",children:Object.keys(e).map((function(t,a){return Object(f.jsx)("button",{onClick:function(e){var a=e.target;return h(a,t)},className:"filterBtn ".concat(t===m?"active":""),children:e[t]},a)}))})};return[v,p]},xe=a(43),he=function(){return function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a){var n,o,s,c,r,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a().auth.groups,7576,e.next=4,m("/realplaza/get-person-totals?group_id=".concat(7576));case 4:return n=e.sent,e.next=7,n.json();case 7:o=e.sent,s=o.total,c=o.resources,r=c.map((function(e){return{name:e.name,code:e.code}})),l=c.map((function(e){return Object(g.a)({},e.data)})),t(pe({totemTotal:s,resources:l,tabs:r}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},pe=function(e){return{type:O.getToten,payload:e}},ve=function(e){e.location;var t,a,o,s,c,r,l,b,j,m,x,h,p,g,y,A,N,E,D,T,P,M,w=Object(S.b)(),k=Object(S.c)((function(e){return e.person})),C=k.hoursPersonTotal,R=k.hoursPersonMale,F=k.hoursPersonFemale,Y=k.weekPersonTotal,G=k.weekPersonMale,W=k.weekPersonFemale,X=k.monthPersonTotal,q=k.monthPersonMale,Z=k.monthPersonFemale,ae=k.heatmapPersonTotal,ne=k.heatmapPersonRange,oe=k.rangePersonAges,se=k.maxHourPersonTotal,ce=k.maxHourPersonMale,re=k.maxHourPersonFemale,le=k.maxWeekPersonTotal,ue=k.maxWeekPersonMale,me=k.maxWeekPersonFemale,pe=k.maxMonthPersonTotal,ve=k.maxMonthPersonMale,ge=k.maxMonthPersonFemale,fe=Object(S.c)((function(e){return e.date})),ye=fe.dateStartHourPerson,Se=fe.dateEndHourPerson,Ae=fe.dateStartHourMalePerson,Ne=fe.dateEndHourMalePerson,Ee=fe.dateStartHourFemalePerson,De=fe.dateEndHourFemalePerson,Te=fe.dateStartWeekPerson,Pe=fe.dateEndWeekPerson,Me=fe.dateStartWeekMalePerson,we=fe.dateEndWeekMalePerson,ke=fe.dateStartWeekFemalePerson,Ce=fe.dateEndWeekFemalePerson,Re=fe.dateStartMonthPerson,_e=fe.dateEndMonthPerson,Fe=fe.dateStartMonthMalePerson,Ie=fe.dateEndMonthMalePerson,Le=fe.dateStartMonthFemalePerson,He=fe.dateEndMonthFemalePerson,Be=fe.dateStartAgePerson,ze=fe.dateEndAgePerson,Ye=fe.dateStartHeatMap,Ge=fe.dateEndHeatMap,Ue=Object(S.c)((function(e){return e.toten})),We=Ue.totemTotal,Xe=Ue.resources,qe=Ue.tabs,Je=Object(n.useState)(""),Ve=Object(u.a)(Je,2),Ze=Ve[0],Qe=Ve[1],$e=ie(I,Ze,"total","dateStartHourPerson","dateEndHourPerson",""),Ke=Object(u.a)($e,5),et=Ke[0],tt=Ke[3],at=Ke[4],nt=ie(I,Ze,"male","dateStartHourMalePerson","dateEndHourMalePerson",""),ot=Object(u.a)(nt,5),st=ot[0],ct=ot[3],rt=ot[4],lt=ie(I,Ze,"female","dateStartHourFemalePerson","dateEndHourFemalePerson",""),it=Object(u.a)(lt,5),dt=it[0],ut=it[3],bt=it[4],jt=ie(L,Ze,"total","dateStartWeekPerson","dateEndWeekPerson",""),mt=Object(u.a)(jt,5),Ot=mt[0],xt=mt[3],ht=mt[4],pt=ie(L,Ze,"male","dateStartWeekMalePerson","dateEndWeekMalePerson",""),vt=Object(u.a)(pt,5),gt=vt[0],ft=vt[3],yt=vt[4],St=ie(L,Ze,"female","dateStartWeekFemalePerson","dateEndWeekFemalePerson",""),At=Object(u.a)(St,5),Nt=At[0],Et=At[3],Dt=At[4],Tt=ie(H,Ze,"total","dateStartMonthPerson","dateEndMonthPerson","",!0),Pt=Object(u.a)(Tt,5),Mt=Pt[0],wt=Pt[3],kt=Pt[4],Ct=ie(H,Ze,"male","dateStartMonthMalePerson","dateEndMonthMalePerson","",!0),Rt=Object(u.a)(Ct,5),_t=Rt[0],Ft=Rt[3],It=Rt[4],Lt=ie(H,Ze,"female","dateStartMonthFemalePerson","dateEndMonthFemalePerson","",!0),Ht=Object(u.a)(Lt,5),Bt=Ht[0],zt=Ht[3],Yt=Ht[4],Gt=ie(z,Ze,"total","dateStartAgePerson","dateEndAgePerson",""),Ut=Object(u.a)(Gt,5),Wt=Ut[0],Xt=Ut[3],qt=Ut[4],Jt=Oe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},I,Ze,"total","dateStartHourPerson","dateEndHourPerson","hourstotalrst",1,tt,at),Vt=Object(u.a)(Jt,2),Zt=Vt[0],Qt=(Vt[1],Oe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},I,Ze,"male","dateStartHourMalePerson","dateEndHourMalePerson","hoursmalerst",1,ct,rt)),$t=Object(u.a)(Qt,2),Kt=$t[0],ea=($t[1],Oe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},I,Ze,"female","dateStartHourFemalePerson","dateEndHourFemalePerson","hoursfemalerst",1,ut,bt)),ta=Object(u.a)(ea,2),aa=ta[0],na=(ta[1],Oe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},L,Ze,"total","dateStartWeekPerson","dateEndWeekPerson","weektotalrst",0,xt,ht)),oa=Object(u.a)(na,2),sa=oa[0],ca=(oa[1],Oe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},L,Ze,"male","dateStartWeekMalePerson","dateEndWeekMalePerson","weekmalerst",0,ft,yt)),ra=Object(u.a)(ca,2),la=ra[0],ia=(ra[1],Oe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},L,Ze,"female","dateStartWeekFemalePerson","dateEndWeekFemalePerson","weekfemalerst",0,Et,Dt)),da=Object(u.a)(ia,2),ua=da[0],ba=(da[1],Oe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},H,Ze,"total","dateStartMonthPerson","dateEndMonthPerson","monthtotalrst",0,wt,kt)),ja=Object(u.a)(ba,2),ma=ja[0],Oa=(ja[1],Oe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},H,Ze,"male","dateStartMonthMalePerson","dateEndMonthMalePerson","monthmalerst",0,Ft,It)),xa=Object(u.a)(Oa,2),ha=xa[0],pa=(xa[1],Oe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},H,Ze,"female","dateStartMonthFemalePerson","dateEndMonthFemalePerson","monthfemalerst",0,zt,Yt)),va=Object(u.a)(pa,2),ga=va[0],fa=(va[1],Oe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},B,Ze,"total","dateStartHeatMap","dateEndHeatMap","heatmaprst",1)),ya=Object(u.a)(fa,2),Sa=ya[0],Aa=(ya[1],Oe({0:"HOY",60:"ACUMULADO",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},z,Ze,"total","dateStartAgePerson","dateEndAgePerson","ageRangesrst",1,Xt,qt)),Na=Object(u.a)(Aa,2),Ea=Na[0];Na[1];Object(n.useEffect)((function(){w(_(Ze)),w(he())}),[]);var Da=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t){var a,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target).classList.contains("totenactivetab")){e.next=3;break}return e.abrupt("return",!1);case 3:"LI"==a.tagName&&(n=a.getAttribute("tab-index"),Qe(n),w(_(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(J,{children:Object(f.jsxs)("div",{className:"contenedor",children:[Object(f.jsx)("span",{className:"spaceXY codeQonteo",children:O.GroupName}),Object(f.jsx)("h3",{className:"subTitle",children:"PERSONAS"}),Object(f.jsxs)(xe.d,{selectedTabClassName:"totenactivetab",className:"spaceXY",children:[Object(f.jsxs)(xe.b,{onClick:Da,children:[Object(f.jsx)(xe.a,{"tab-index":"",children:"TOTAL ACUMULADO"}),qe.map((function(e,t){return Object(f.jsx)(xe.a,{"tab-index":e.code.toString(),children:e.name},t)}))]}),Object(f.jsx)(xe.c,{children:Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"boxGridFour",children:[Object(f.jsx)(Q,{count:null===We||void 0===We||null===(t=We.today)||void 0===t?void 0:t.count,percent:null===We||void 0===We||null===(a=We.today)||void 0===a?void 0:a.percent,txtdetail:"HOY"}),Object(f.jsx)(ee,{theme:"light",count:null===We||void 0===We||null===(o=We.yesterday)||void 0===o?void 0:o.total,txtdetail:"AYER"}),Object(f.jsx)(te,{theme:"light",count:null===We||void 0===We||null===(s=We.week)||void 0===s?void 0:s.total,percent:null===We||void 0===We||null===(c=We.week)||void 0===c?void 0:c.percent,txtdetail:"ESTA SEMANA"}),Object(f.jsx)($,{theme:"light",count:null===We||void 0===We||null===(r=We.total)||void 0===r?void 0:r.count,txtdetail:"TOTAL"})]}),Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"female",count:null===We||void 0===We||null===(l=We.today)||void 0===l?void 0:l.female,total:null===We||void 0===We||null===(b=We.today)||void 0===b?void 0:b.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"female",count:null===We||void 0===We||null===(j=We.yesterday)||void 0===j?void 0:j.female,total:null===We||void 0===We||null===(m=We.yesterday)||void 0===m?void 0:m.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===We||void 0===We||null===(x=We.week)||void 0===x?void 0:x.female,total:null===We||void 0===We||null===(h=We.week)||void 0===h?void 0:h.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===We||void 0===We||null===(p=We.total)||void 0===p?void 0:p.female,total:null===We||void 0===We||null===(g=We.total)||void 0===g?void 0:g.count,txtDay:"TOTAL",theme:"light"})]}),Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"male",count:null===We||void 0===We||null===(y=We.today)||void 0===y?void 0:y.male,total:null===We||void 0===We||null===(A=We.today)||void 0===A?void 0:A.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"male",count:null===We||void 0===We||null===(N=We.yesterday)||void 0===N?void 0:N.male,total:null===We||void 0===We||null===(E=We.yesterday)||void 0===E?void 0:E.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===We||void 0===We||null===(D=We.week)||void 0===D?void 0:D.male,total:null===We||void 0===We||null===(T=We.week)||void 0===T?void 0:T.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===We||void 0===We||null===(P=We.total)||void 0===P?void 0:P.male,total:null===We||void 0===We||null===(M=We.total)||void 0===M?void 0:M.count,txtDay:"TOTAL",theme:"light"})]})]})}),Xe.map((function(e,t){var a,n,o,s,c,r,l,i,d,u,b,j,m,O,x,h,p,v,g,y,S,A,N,E;return Object(f.jsx)(xe.c,{children:Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"boxGridFour",children:[Object(f.jsx)(Q,{count:null===e||void 0===e||null===(a=e.today)||void 0===a?void 0:a.count,percent:null===e||void 0===e||null===(n=e.today)||void 0===n?void 0:n.percent}),Object(f.jsx)(ee,{theme:"light",count:null===e||void 0===e||null===(o=e.yesterday)||void 0===o?void 0:o.total}),Object(f.jsx)(te,{theme:"light",count:null===e||void 0===e||null===(s=e.week)||void 0===s?void 0:s.total,percent:null===e||void 0===e||null===(c=e.week)||void 0===c?void 0:c.percent}),Object(f.jsx)($,{theme:"light",count:null===e||void 0===e||null===(r=e.total)||void 0===r?void 0:r.count})]}),(null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.female)&&Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"female",count:null===e||void 0===e||null===(i=e.today)||void 0===i?void 0:i.female,total:null===e||void 0===e||null===(d=e.today)||void 0===d?void 0:d.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"female",count:null===e||void 0===e||null===(u=e.yesterday)||void 0===u?void 0:u.female,total:null===e||void 0===e||null===(b=e.yesterday)||void 0===b?void 0:b.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===e||void 0===e||null===(j=e.week)||void 0===j?void 0:j.female,total:null===e||void 0===e||null===(m=e.week)||void 0===m?void 0:m.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===e||void 0===e||null===(O=e.total)||void 0===O?void 0:O.female,total:null===e||void 0===e||null===(x=e.total)||void 0===x?void 0:x.count,txtDay:"TOTAL",theme:"light"})]}),(null===e||void 0===e||null===(h=e.total)||void 0===h?void 0:h.male)&&Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"male",count:null===e||void 0===e||null===(p=e.today)||void 0===p?void 0:p.male,total:null===e||void 0===e||null===(v=e.today)||void 0===v?void 0:v.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"male",count:null===e||void 0===e||null===(g=e.yesterday)||void 0===g?void 0:g.male,total:null===e||void 0===e||null===(y=e.yesterday)||void 0===y?void 0:y.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===e||void 0===e||null===(S=e.week)||void 0===S?void 0:S.male,total:null===e||void 0===e||null===(A=e.week)||void 0===A?void 0:A.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===e||void 0===e||null===(N=e.total)||void 0===N?void 0:N.male,total:null===e||void 0===e||null===(E=e.total)||void 0===E?void 0:E.count,txtDay:"TOTAL",theme:"light"})]})]})},t)}))]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[C.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA"}),Object(f.jsxs)("span",{className:"spaceBottom text-center d-block",children:["( ",ye," - ",Se," )"]}),Object(f.jsx)(Zt,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===se||void 0===se?void 0:se.hour," con ",V(null===se||void 0===se?void 0:se.total)," personas"]}),Object(f.jsx)(et,{})]})]}),Object(f.jsx)(U,{data:C,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Personas:",scltxtlbl:"Cantidad de Personas",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourTotal"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR HORA DEL D\xcdA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Ae," - ",Ne," )"]}),R.length>0&&Object(f.jsx)(Kt,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===ce||void 0===ce?void 0:ce.hour," con ",V(null===ce||void 0===ce?void 0:ce.total)," personas"]}),R.length>0&&Object(f.jsx)(st,{})]}),Object(f.jsx)(U,Object(v.a)({data:R,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichourMale"},"id","grafichourMale"))]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[F.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR HORA DEL D\xcdA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Ee," - ",De," )"]}),Object(f.jsx)(aa,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===re||void 0===re?void 0:re.hour," con ",V(null===re||void 0===re?void 0:re.total)," personas"]}),Object(f.jsx)(dt,{})]})]}),Object(f.jsx)(U,{data:F,label:"Total de Mujeres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Mujeres:",scltxtlbl:"Cantidad de Mujeres",scalebg:"#0502D3",id:"grafichourfemale"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Te," - ",Pe," )"]}),Y.length>0&&Object(f.jsx)(sa,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===le||void 0===le?void 0:le.day," con ",V(null===le||void 0===le?void 0:le.total)," personas"]}),Y.length>0&&Object(f.jsx)(Ot,{})]}),Object(f.jsx)(de,{data:Y,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Me," - ",we," )"]}),G.length>0&&Object(f.jsx)(la,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===ue||void 0===ue?void 0:ue.day," con ",V(null===ue||void 0===ue?void 0:ue.total)," personas"]}),G.length>0&&Object(f.jsx)(gt,{})]}),Object(f.jsx)(de,{data:G,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Hombres",scltxtlbl:"Cantidad de Hombres",id:"graficweekmale"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",ke," - ",Ce," )"]}),W.length>0&&Object(f.jsx)(ua,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===me||void 0===me?void 0:me.day," con ",V(null===me||void 0===me?void 0:me.total)," personas"]}),W.length>0&&Object(f.jsx)(Nt,{})]}),Object(f.jsx)(de,{data:W,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Mujeres",scltxtlbl:"Cantidad de Mujeres",id:"graficweekfemale"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Re," - ",_e," )"]}),X.length>0&&Object(f.jsx)(ma,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===pe||void 0===pe?void 0:pe.day," con ",null===pe||void 0===pe?void 0:pe.total," personas"]}),X.length>0&&Object(f.jsx)(Mt,{})]}),Object(f.jsx)(U,{data:X,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-yellow",id:"graficmonth"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE HOMBRES POR CADA D\xcdA DEL MES"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Fe," - ",Ie," )"]}),q.length>0&&Object(f.jsx)(ha,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===ve||void 0===ve?void 0:ve.day," con ",null===ve||void 0===ve?void 0:ve.total," personas"]}),q.length>0&&Object(f.jsx)(_t,{})]}),Object(f.jsx)(U,{data:q,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Hombres",scltxtlbl:"Cantidad de Hombres",id:"graficmonthmale"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE MUJERES POR CADA D\xcdA DEL MES"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Le," - ",He," )"]}),Z.length>0&&Object(f.jsx)(ga,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===ge||void 0===ge?void 0:ge.day," con ",null===ge||void 0===ge?void 0:ge.total," personas"]}),Z.length>0&&Object(f.jsx)(Bt,{})]}),Object(f.jsx)(U,{data:Z,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",id:"graficmonthfemale"})]}),Object(f.jsxs)("div",{className:"spaceXY  d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE SEMANA ACUMULADO DE PERSONAS POR HORA DEL D\xcdA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Ye," - ",Ge," )"]}),ae.length>0&&Object(f.jsx)(Sa,{}),Object(f.jsx)(be,{data:ae,range:ne})]}),Object(f.jsxs)("div",{className:"spaceXY  d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL ACUMULADO - G\xc9NERO"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",Be," - ",ze," )"]}),oe.length>0&&Object(f.jsx)(Ea,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsx)("span",{className:"detailMax"}),oe.length>0&&Object(f.jsx)(Wt,{})]}),Object(f.jsx)(je,{data:oe,id:"graficAgeRange"})]})]})})},ge=a(73),fe=["component","isAuthenticated"],ye=function(e){var t=e.component,a=e.isAuthenticated,n=Object(ge.a)(e,fe);return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)(l.a,{to:"/"}):Object(f.jsx)(l.b,Object(g.a)(Object(g.a)({},n),{},{render:function(e){return Object(f.jsx)(t,Object(g.a)({},e))}}))})},Se=["component","isAuthenticated"],Ae=function(e){var t=e.component,a=e.isAuthenticated,n=Object(ge.a)(e,Se);return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)(l.b,Object(g.a)(Object(g.a)({},n),{},{render:function(e){return Object(f.jsx)(t,Object(g.a)({},e))}})):Object(f.jsx)(l.a,{to:"/auth/login"})})},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(Object.keys(e)[0]),a=Object(u.a)(t,2),o=a[0],s=a[1],c=function(){return Object(f.jsx)("div",{className:"groupButtons text-center spaceBottom",children:Object.keys(e).map((function(t,a){return Object(f.jsx)("button",{onClick:function(e){e.target;return s(t)},className:"filterBtn ".concat(t===o?"active":""),children:e[t]},a)}))})};return[c,o,s,e]},Ee=(a(339),function(){return function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a){var n,o,s,c,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.groups,o=n.filter((function(e){return e.code===O.groupName}))[0].id,e.next=4,m("/resources/tracking?group_id=".concat(o));case 4:return e.next=6,e.sent.json();case 6:s=e.sent,c=s.resources,r=s.hours,t(De({resources:c,hours:r}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),De=function(e){return{type:O.initialDataTrazabilidad,payload:e}},Te=function(e){return{type:O.changeTrazabilidadByHour,payload:e}},Pe=function(e){e.location;var t=Object(S.b)(),a=Object(n.useState)([]),o=Object(u.a)(a,2),s=(o[0],o[1],Object(S.c)((function(e){return e.trazabilidad}))),c=s.resources,r=s.hours,l=Ne({todos:"TODOS",CCPN001:"T\xd3TEM 1",CCPN002:"T\xd3TEM 2",CCPN003:"PANISTER\xcdA"}),i=Object(u.a)(l,4),d=i[0],b=i[1],j=(i[2],i[3],Ne({todos:"TODOS",cliente:"CLIENTES",visitantes:"VISITANTES"})),m=Object(u.a)(j,3),O=(m[0],m[1],m[2],Ne({todos:"TODOS",d7:"07 D\xcdAS",d15:"15 D\xcdAS",d30:"30 D\xcdAS"})),x=Object(u.a)(O,3),h=(x[0],x[1],x[2],Ne({total:"TODOS",male:"HOMBRES",female:"MUJERES"})),p=Object(u.a)(h,3),v=p[0],g=p[1],y=p[2],A=Object(n.useState)(!0),N=Object(u.a)(A,2),E=N[0],D=N[1],T=Object(n.useState)(null),P=Object(u.a)(T,2),M=P[0],w=P[1],k=Object(n.useState)({agestart:"",ageend:"",all:!0}),C=Object(u.a)(k,2),R=(C[0],C[1],Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)({timestart:"",timeend:"",all:!0})),_=Object(u.a)(R,2),F=(_[0],_[1],Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)([])),I=Object(u.a)(F,2),L=I[0],H=I[1],B=Object(n.useState)(0),z=Object(u.a)(B,2),Y=z[0],G=z[1],U=Object(n.useState)(""),W=Object(u.a)(U,2),X=W[0],q=W[1];Object(n.useEffect)((function(){t(Ee())}),[]),Object(n.useEffect)((function(){var e=new Array(24).fill(0).map((function(e,t){return t}));H(e)}),[]),Object(n.useEffect)((function(){var e=document.querySelector("#sec_genero .groupButtons button:nth-child(2)"),t=document.querySelector("#sec_genero .groupButtons button:nth-child(3)");"CCPN003"===b?(y("total"),e.classList.add("hide"),t.classList.add("hide")):(e.classList.remove("hide"),t.classList.remove("hide")),function(e){var t;0===(t=e.filter((function(e){return e.name===b}))).length&&(t=e);var a=document.getElementById("monitoreoComercio"),n=a.getContext("2d");n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,a.width,a.height),t.forEach((function(e){n.beginPath(),n.arc(e.x,e.y,e.ratio+40,0,2*Math.PI,!1),n.fillStyle=e.color,n.fill(),n.font="13px Arial",n.fillStyle="#FFF",n.fillText(e[g],e.labelX,e.labelY)}))}(c)}),[c,,g,b]);var V=function e(a){if(!E)return clearTimeout(M),!1;if(a>=24)return G(0),D(!0),D(!0),clearTimeout(M),!1;var n=setTimeout((function(){q((function(e){return a})),function(e){var a=r.filter((function(t){return t.hour===e}));t(Te(a[0].resources))}(a),G((function(e){return a+1})),e(a+1)}),1e3);w(n)};return Object(f.jsxs)(J,{children:[Object(f.jsx)("h3",{className:"subTitle spaceTop",children:"TRAZABILIDAD DE USUARIOS EN COMERCIO"}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext spaceTop",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione equipo:"}),Object(f.jsx)(d,{})]}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",id:"sec_genero",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione G\xe9nero:"}),Object(f.jsx)(v,{})]}),Object(f.jsxs)("div",{className:"d-grid-report spaceTopSmall  content-btntext",children:[Object(f.jsx)("p",{className:"text-report"}),Object(f.jsx)("button",{className:"filterBtn w-fit ",onClick:function(){V(24),q(""),G(0),D(!0),t(Ee())},children:"TODAS LAS HORAS"})]}),Object(f.jsxs)("div",{className:"d-grid-report spaceTopSmall  content-btntext",children:[Object(f.jsx)("p",{className:"text-report"}),Object(f.jsx)("div",{className:"listhour",children:L.map((function(e,a){return Object(f.jsx)("span",{onClick:function(){return function(e){q(e),G(e),D(!0);var a=r.filter((function(t){return t.hour===e}));t(Te(a[0].resources))}(e)},className:"listhour__item ".concat(Number(e)===X?"active":""),children:e},e)}))})]}),Object(f.jsxs)("div",{className:"contentcanvas spaceTop",children:[Object(f.jsx)("canvas",{style:{backgroundImage:"url(/assets/images/planoflujo.jpg)"},className:"mt",id:"monitoreoComercio",width:"1024",height:"556"}),Object(f.jsx)("div",{className:"contencanvas__play",children:Object(f.jsx)("img",{className:"contencanvas__btn",onClick:function(){V(Y),D(!E)},src:"/assets/icons/play.svg",alt:"imgButton"})})]})]})},Me=a(25),we=a(18),ke=a(141),Ce=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a,n,o,s,c){var r,l,d,u,b,j,m,O=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O.length>6&&void 0!==O[6]?O[6]:0,l="",d=document.getElementById(t),u=new Me.a("l","pt"),(b=new Image).src="./assets/images/pdf/logoleft.png",u.addImage(b,"png",30,10,100,20),(j=new Image).src="./assets/images/pdf/logorigth.png",u.addImage(j,"png",750,13,65,15),u.setFontSize(18),u.text(280,90,o),u.setFontSize(9),u.text(650,140,"Rango: ".concat(a," - ").concat(n)),u.setFontSize(9),u.text(50,140,s),e.next=18,Object(we.a)(d).then((function(e){return l=e}));case 18:u.addImage(l,"jpg",120,180,600,350),u.setFontSize(9),u.text(50,570,"Reporte generado ".concat(Object(P.default)(new Date,"yyyy-MM-dd HH:mm:ss")," PE.CCPN.01")),u.setFontSize(9),m="Acumulado",1===Number(r)?m="totem 1":2===Number(r)&&(m="totem 2"),u.text(650,570,"Tipo de totem: ".concat(m)),u.save("DSP-SODA-PE.CCPN.01-".concat(a,"-").concat(n,"-").concat(o.replace(/\s/g,"-"),".pdf.pdf"));case 26:case"end":return e.stop()}}),e)})));return function(t,a,n,o,s,c){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a,n,o){var s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/export",{type:t,format:"csv",interval:a,date_from:n,date_to:o},"POST");case 2:return s=e.sent,e.next=5,s.blob();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}(),_e=function(e,t,a,n){Re("p",e,t,a).then((function(e){return Object(ke.saveAs)(e,"DSP-SODA-CO-PMXCO-BOG-A01-".concat(t,"-").concat(a,"-TOTAL-").concat(n,".csv"))}))},Fe=function(){var e=Object(d.a)(Object(i.a)().mark((function e(t,a,n,o,s){var c,r,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",r=document.getElementById(t),l=document.createElement("a"),e.next=5,Object(we.a)(r).then((function(e){return c=e}));case 5:m("/upload-image",{data:{user_id:"704",type:o,interval:s,date_from:a,date_to:n,image:c}},"POST").then((function(e){return e.json()})).then((function(e){l.setAttribute("target","__blank"),l.href=e.url,l.click()}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,o,s){return e.apply(this,arguments)}}(),Ie=function(){var e,t,a,o,s,c,r,l,i,d,b,j,m,O,x,h,p,v,g,y,A,N,E=Object(S.b)(),D=Object(S.c)((function(e){return e.person})),T=D.hoursPersonTotal,M=D.hoursPersonMale,w=D.hoursPersonFemale,k=D.weekPersonTotal,C=D.weekPersonMale,R=D.weekPersonFemale,F=D.rangePersonAges,H=D.maxHourPerson,B=D.maxHourPersonMale,Y=D.maxHourPersonFemale,G=D.maxWeekPerson,W=D.maxWeekPersonMale,X=D.maxWeekPersonFemale,q=Object(S.c)((function(e){return e.toten})),J=q.totemTotal,Z=(q.resources,q.tabs,Object(n.useState)("")),ae=Object(u.a)(Z,2),ne=(ae[0],ae[1],ie(I,"","total","dateStartHourPerson","dateEndHourPerson","")),oe=Object(u.a)(ne,5),se=oe[0],ce=oe[1],re=oe[2],le=(oe[3],oe[4],ie(I,"","male","dateStartHourMalePerson","dateEndHourMalePerson","")),de=Object(u.a)(le,5),ue=de[0],be=de[1],me=de[2],Oe=(de[3],de[4],ie(I,"","female","dateStartHourFemalePerson","dateEndHourFemalePerson","")),xe=Object(u.a)(Oe,5),pe=xe[0],ve=xe[1],ge=xe[2],fe=(xe[3],xe[4],ie(L,"","total","dateStartWeekPerson","dateEndWeekPerson","")),ye=Object(u.a)(fe,5),Se=ye[0],Ae=ye[1],Ne=ye[2],Ee=(ye[3],ye[4],ie(L,"","male","dateStartWeekMalePerson","dateEndWeekMalePerson","")),De=Object(u.a)(Ee,5),Te=De[0],Pe=De[1],Me=De[2],we=(De[3],De[4],ie(L,"","female","dateStartWeekFemalePerson","dateEndWeekFemalePerson","")),ke=Object(u.a)(we,5),Ce=ke[0],Re=ke[1],_e=ke[2],Ie=(ke[3],ke[4],ie(z,"","total","dateStartAgePerson","dateEndAgePerson","")),Le=Object(u.a)(Ie,5),He=Le[0],Be=Le[1],ze=Le[2];Le[3],Le[4];Object(n.useEffect)((function(){E(_()),E(he())}),[E]);return Object(f.jsxs)("div",{id:"mobileversion",children:[Object(f.jsxs)("header",{children:[Object(f.jsxs)("div",{className:"headerTop d-flex auth",children:[Object(f.jsx)("img",{className:"imgSmall",src:"/assets/images/header/onlysoda.png",alt:"logosoda"}),Object(f.jsxs)("h1",{className:"titleHeadAuth",children:["data ",Object(f.jsx)("br",{}),"street ",Object(f.jsx)("br",{}),"performance"]})]}),Object(f.jsx)("div",{className:"w-100 text-center logoMiddle",children:Object(f.jsx)("img",{src:"./assets/images/header/soda.png",alt:"logosoda"})})]}),Object(f.jsx)("div",{className:"codecontent",children:Object(f.jsx)("span",{className:"code",children:"PE.CCPN.01"})}),Object(f.jsxs)("div",{className:"actionButtons",children:[Object(f.jsx)("div",{className:"grid-2",children:Object(f.jsxs)("button",{className:"active",children:[Object(f.jsx)("img",{src:"./assets/icons/mobile/person-mobile.svg",alt:"person"}),Object(f.jsx)("span",{children:"Personas"})]})}),Object(f.jsxs)("div",{className:"grid-2",children:[Object(f.jsxs)("button",{children:[Object(f.jsx)("img",{src:"./assets/icons/mobile/calendar-mobile.png",alt:"calendar"}),Object(f.jsx)("span",{children:"Tiempo Real"})]}),Object(f.jsxs)("button",{onClick:function(){window.location.reload()},children:[Object(f.jsx)("img",{src:"./assets/icons/mobile/calendar-mobile.png",alt:"calendar"}),Object(f.jsx)("span",{children:"Actualizar"})]})]})]}),Object(f.jsx)("div",{className:"codecontent",children:Object(f.jsx)("span",{className:"code",children:"PERSONAS"})}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)(Q,{count:null===J||void 0===J||null===(e=J.today)||void 0===e?void 0:e.count,percent:null===J||void 0===J||null===(t=J.today)||void 0===t?void 0:t.percent}),Object(f.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(f.jsx)(K,{gender:"female",count:null===J||void 0===J||null===(a=J.today)||void 0===a?void 0:a.female,total:null===J||void 0===J||null===(o=J.today)||void 0===o?void 0:o.count,txtdetail:"HOY"}),Object(f.jsx)(K,{gender:"male",count:null===J||void 0===J||null===(s=J.today)||void 0===s?void 0:s.male,total:null===J||void 0===J||null===(c=J.today)||void 0===c?void 0:c.count,txtdetail:"HOY"})]})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile",children:[Object(f.jsx)(ee,{theme:"light",count:null===J||void 0===J||null===(r=J.yesterday)||void 0===r?void 0:r.total,txtdetail:"AYER"}),Object(f.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(f.jsx)(K,{gender:"female",count:null===J||void 0===J||null===(l=J.yesterday)||void 0===l?void 0:l.female,total:null===J||void 0===J||null===(i=J.yesterday)||void 0===i?void 0:i.count,txtdetail:"AYER"}),Object(f.jsx)(K,{gender:"male",count:null===J||void 0===J||null===(d=J.yesterday)||void 0===d?void 0:d.male,total:null===J||void 0===J||null===(b=J.yesterday)||void 0===b?void 0:b.count,txtdetail:"AYER"})]})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile",children:[Object(f.jsx)(te,{count:null===J||void 0===J||null===(j=J.week)||void 0===j?void 0:j.total,percent:null===J||void 0===J||null===(m=J.week)||void 0===m?void 0:m.percent,txtdetail:"ESTA SEMANA"}),Object(f.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(f.jsx)(K,{gender:"female",count:null===J||void 0===J||null===(O=J.week)||void 0===O?void 0:O.female,total:null===J||void 0===J||null===(x=J.week)||void 0===x?void 0:x.count,txtdetail:"ESTA SEMANA"}),Object(f.jsx)(K,{gender:"male",count:null===J||void 0===J||null===(h=J.week)||void 0===h?void 0:h.male,total:null===J||void 0===J||null===(p=J.week)||void 0===p?void 0:p.count,txtdetail:"ESTA SEMANA"})]})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile",children:[Object(f.jsx)($,{theme:"light",count:null===J||void 0===J||null===(v=J.total)||void 0===v?void 0:v.count,txtdetail:"TOTAL"}),Object(f.jsxs)("div",{className:"grid-2 spaceTopSmall",children:[Object(f.jsx)(K,{gender:"female",count:null===J||void 0===J||null===(g=J.total)||void 0===g?void 0:g.female,total:null===J||void 0===J||null===(y=J.total)||void 0===y?void 0:y.count,txtdetail:"TOTAL"}),Object(f.jsx)(K,{gender:"male",count:null===J||void 0===J||null===(A=J.total)||void 0===A?void 0:A.male,total:null===J||void 0===J||null===(N=J.total)||void 0===N?void 0:N.count,txtdetail:"TOTAL"})]})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY ",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===H||void 0===H?void 0:H.hour," con ",V(null===H||void 0===H?void 0:H.total)," personas"]}),T.length>0&&Object(f.jsx)(se,{})]}),Object(f.jsx)(U,{data:T,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Personas:",scltxtlbl:"Cantidad de Personas",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourTotal"}),Object(f.jsx)("div",{className:"btnExportsGraphics",children:Object(f.jsx)("button",{onClick:function(){return Fe("grafichourTotal",Object(P.default)(ce,"yyyy-MM-dd"),Object(P.default)(re,"yyyy-MM-dd"),"hour","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR HORA DEL D\xcdA"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY ",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===B||void 0===B?void 0:B.hour," con ",V(null===B||void 0===B?void 0:B.total)," personas"]}),M.length>0&&Object(f.jsx)(ue,{})]}),Object(f.jsx)(U,{data:M,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourMale"}),Object(f.jsx)("div",{className:"btnExportsGraphics",children:Object(f.jsx)("button",{onClick:function(){return Fe("grafichourMale",Object(P.default)(be,"yyyy-MM-dd"),Object(P.default)(me,"yyyy-MM-dd"),"hour","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR HORA DEL D\xcdA"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===Y||void 0===Y?void 0:Y.hour," con ",V(null===Y||void 0===Y?void 0:Y.total)," personas"]}),w.length>0&&Object(f.jsx)(pe,{})]}),Object(f.jsx)(U,{data:w,label:"Total de Mujeres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Mujeres:",scltxtlbl:"Cantidad de Mujeres",scalebg:"#0502D3",id:"grafichourfemale"}),Object(f.jsx)("div",{className:"btnExportsGraphics",children:w.length>0&&Object(f.jsx)("button",{onClick:function(){return Fe("grafichourfemale",ve,ge,"hour","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===G||void 0===G?void 0:G.day," con ",V(null===G||void 0===G?void 0:G.total)," personas"]}),k.length>0&&Object(f.jsx)(Se,{})]}),Object(f.jsx)(U,{data:k,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"}),Object(f.jsx)("div",{className:"btnExportsGraphics",children:k.length>0&&Object(f.jsx)("button",{onClick:function(){return Fe("graficweek",Ae,Ne,"week","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE HOMBRES POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===W||void 0===W?void 0:W.day," con ",V(null===W||void 0===W?void 0:W.total)," personas"]}),C.length>0&&Object(f.jsx)(Te,{})]}),Object(f.jsx)(U,{data:C,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Hombres",scltxtlbl:"Cantidad de Hombres",id:"graficweekmale"}),Object(f.jsx)("div",{className:"btnExportsGraphics",children:C.length>0&&Object(f.jsx)("button",{onClick:function(){return Fe("graficweekmale",Pe,Me,"week","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile border-bottom",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE MUJERES POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===X||void 0===X?void 0:X.day," con ",V(null===X||void 0===X?void 0:X.total)," personas"]}),R.length>0&&Object(f.jsx)(Ce,{})]}),Object(f.jsx)(U,{data:R,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de Mujeres",scltxtlbl:"Cantidad de Mujeres",id:"graficweekfemale"}),Object(f.jsx)("div",{className:"btnExportsGraphics",children:R.length>0&&Object(f.jsx)("button",{onClick:function(){return Fe("graficweekfemale",Re,_e,"week","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})})]}),Object(f.jsxs)("div",{className:"spaceXY fitmobile",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL ACUMULADO - G\xc9NERO"}),Object(f.jsxs)("div",{className:"detailGrafic spaceXY",children:[Object(f.jsx)("span",{className:"detailMax"}),F.length>0&&Object(f.jsx)(He,{})]}),Object(f.jsxs)("div",{className:"btnExportsGraphics",children:[Object(f.jsx)(je,{data:F,id:"graficAgeRange"}),F.length>0&&Object(f.jsx)("button",{onClick:function(){return Fe("graficAgeRange",Be,ze,"age","P")},children:Object(f.jsx)("img",{src:"./assets/icons/share.svg"})})]})]})]})},Le=a(142);Object.filter=function(e,t){return Object.keys(e).filter((function(a){return t(e[a])})).reduce((function(t,a){return Object.assign(t,Object(v.a)({},a,e[a]))}),{})};var He=function(e){e.location;var t=e.history,a=Ne({c:"COMERCIAL",e:"EJECUTIVO"}),o=Object(u.a)(a,3),s=o[0],c=o[1],r=(o[2],Ne({todos:"TODOS",CCPN001:"T\xd3TEM 1",CCPN002:"T\xd3TEM 2"})),l=Object(u.a)(r,4),b=l[0],j=l[1],m=(l[2],l[3]),O=Ne({todos:"TODOS",d7:"07 D\xcdAS",d15:"15 D\xcdAS",d30:"30 D\xcdAS"}),x=Object(u.a)(O,3),h=x[0],p=x[1],v=(x[2],Ne({todos:"TODOS",cliente:"CLIENTES",visitantes:"VISITANTES"})),g=Object(u.a)(v,3),y=(g[0],g[1]),S=g[2],A=Ne({todos:"TODOS",male:"HOMBRES",female:"MUJERES"}),N=Object(u.a)(A,3),D=N[0],T=N[1],w=N[2],k=function(){var e=Object(n.useState)(new Date("2020-12-19")),t=Object(u.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(new Date),c=Object(u.a)(s,2),r=c[0],l=c[1],i=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"numeric"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(r),c=new Intl.DateTimeFormat("en",{month:"numeric"}).format(r),l=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(r);if(Object(se.default)(new Date(t,a,n),new Date(s,c,l))||Object(ce.default)(new Date(t,a,n),new Date(s,c,l)))return E.a.fire("Error","La fecha Inicio debe ser menor que la fecha de fin","error");o(e)},d=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),n=new Intl.DateTimeFormat("en",{month:"numeric"}).format(a),o=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a),s=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),c=new Intl.DateTimeFormat("en",{month:"numeric"}).format(e),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);if(Object(re.default)(new Date(s,c,r),new Date(t,n,o))||Object(ce.default)(new Date(t,n,o),new Date(s,c,r)))return E.a.fire("Error","La fecha fin debe ser mayor que la fecha de inicio","error");l(e)};return[function(){return Object(f.jsxs)("div",{className:"filterDate",children:[Object(f.jsxs)("div",{className:"date",children:[Object(f.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(f.jsx)(ne.a,{selected:a,onChange:i,format:"yyyy-MM-dd",maxDate:new Date})]}),Object(f.jsxs)("div",{className:"date",children:[Object(f.jsx)("img",{src:"/assets/images/icons/calendar.png",className:"icon_inputS",alt:"icon calendario"}),Object(f.jsx)(ne.a,{selected:r,onChange:d,format:"yyyy-MM-dd",maxDate:new Date})]})]})},a,r]}(),C=Object(u.a)(k,3),R=C[0],_=C[1],F=C[2],I=Object(n.useState)({agestart:"",ageend:"",all:!0}),L=Object(u.a)(I,2),H=L[0],B=L[1],z=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)({timestart:"",timeend:"",all:!0})),Y=Object(u.a)(z,2),G=Y[0],U=Y[1],W=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useState)(!1)),X=Object(u.a)(W,2),q=X[0],V=X[1],Z=function(){var e=Object(d.a)(Object(i.a)().mark((function e(){var a,n,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=24;break}if(!1!==H.all||""!=H.agestart){e.next=3;break}return e.abrupt("return",E.a.fire("Error","El campo de inicio de edad no puedo estar vacio","error"));case 3:if(0!=H.all||""!==H.ageend){e.next=5;break}return e.abrupt("return",E.a.fire("Error","El campo de fin de edad no puedo estar vacio","error"));case 5:if(!1!==G.all||""!=G.timestart){e.next=7;break}return e.abrupt("return",E.a.fire("Error","El campo de inicio de hora no puedo estar vacio","error"));case 7:if(0!=G.all||""!==G.timeend){e.next=9;break}return e.abrupt("return",E.a.fire("Error","El campo de fin de hora no puedo estar vacio","error"));case 9:if(!(!1===H.all&&Number(H.agestart)>Number(H.ageend))){e.next=11;break}return e.abrupt("return",E.a.fire("Error","El campo de inicio de edad no puedo ser mayor a la edad de fin","error"));case 11:if(!(!1===G.all&&Number(G.timestart)>=24)){e.next=13;break}return e.abrupt("return",E.a.fire("Error","El formato debe de ser 24H","error"));case 13:if(!(!1===G.all&&Number(G.timeend)>=24)){e.next=15;break}return e.abrupt("return",E.a.fire("Error","El formato debe de ser 24H","error"));case 15:if(!(!1===G.all&&Number(G.timestart)>=Number(G.timeend))){e.next=17;break}return e.abrupt("return",E.a.fire("Error","El campo de inicio de hora no puedo ser mayor a la hora de fin","error"));case 17:G.timestart,G.timeend,1===G.timestart.length&&0+G.timestart,1===G.timestart.length&&0+G.timeend,a={contact_type:y,report_type:c,resource:m[j].toLowerCase(),gender:"todos"===T?"total":T,date_from:Object(P.default)(_,"yyyy-MM-dd"),date_to:Object(P.default)(F,"yyyy-MM-dd"),age_from:H.agestart,age_to:H.ageend,time_from:G.timestart,time_to:G.timeend},e.next=25;break;case 24:"todos"===p?a={report_type:c,resource:j,date_from:"2020-12-02",date_to:Object(P.default)(new Date,"yyyy-MM-dd"),time_from:"2020-12-02%00:00",time_to:"".concat(Object(P.default)(new Date,"yyyy-MM-dd"),"%00:00"),gender:"total"}:(n=Object(M.default)(new Date,Number(p.replace("d",""))),a={report_type:c,resource:m[j].toLowerCase(),date_from:Object(P.default)(n,"yyyy-MM-dd"),date_to:Object(P.default)(new Date,"yyyy-MM-dd"),time_from:"".concat(Object(P.default)(n,"yyyy-MM-dd"),"%00:00"),time_to:"".concat(Object(P.default)(new Date,"yyyy-MM-dd"),"%00:00"),gender:"total"});case 25:if(o=Object.filter(a,(function(e){return"todos"!==e&&""!==e})),"c"!==c){e.next=28;break}return e.abrupt("return",t.push("/reportes-screen/comercial",o));case 28:t.push("/reportes-screen/ejecutivo",o);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){var e=document.querySelector("#sec_genero");q&&("CCPN003"===j?(w("todos"),setTimeout((function(){e.querySelector(".groupButtons button:nth-child(2)").classList.add("hide"),e.querySelector(".groupButtons button:nth-child(3)").classList.add("hide")}),10)):console.log("no dio en el sensor no se ocultara los botones"))}()}),[q,j,c]),Object(f.jsxs)(J,{children:[Object(f.jsx)("h3",{className:"subTitle spaceXY",children:"GENERA TU REPORTE"}),Object(f.jsx)("h3",{className:"subTitle color-secundary",children:"REPORTE GENERAL"}),Object(f.jsxs)("div",{className:"d-grid-report spaceTop content-btntext",children:[Object(f.jsxs)("p",{className:"text-report",children:["Seleccione tipo de",Object(f.jsx)("br",{})," reporte:"]}),Object(f.jsx)(s,{})]}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione equipo:"}),Object(f.jsx)(b,{})]}),!q&&Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione Periodo:"}),Object(f.jsx)(h,{})]}),Object(f.jsxs)("div",{className:"groupButtons text-center spaceTop",children:[Object(f.jsx)("button",{onClick:function(){S("todos"),w("todos"),B({all:!0,ageend:"",agestart:""}),U({all:!0,timestart:"",timeend:""}),V(!q)},className:"filterBtn",children:"ESPECIFICO"}),!q&&Object(f.jsx)("button",{onClick:Z,className:"filterBtn",children:"GENERAR"})]}),q&&Object(f.jsxs)("div",{id:"contentEspec",children:[Object(f.jsx)("h3",{className:"subTitle color-secundary spaceXY",children:"REPORTE ESPECIFICO"}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",id:"sec_genero",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione G\xe9nero:"}),Object(f.jsx)(D,{})]}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione una Fecha:"}),Object(f.jsx)(R,{})]}),q&&Object(f.jsx)("div",{className:"spaceBottomSmall text-center",children:Object(f.jsx)("button",{onClick:Z,className:"filterBtn  ",children:"GENERAR"})})]})]})},Be=function(){var e=Ne({todos:"TODOS",toten1:"T\xd3TEM 1",toten2:"T\xd3TEM 2"}),t=Object(u.a)(e,3),a=t[0],o=(t[1],t[2],Ne({todos:"TODOS",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"})),s=Object(u.a)(o,3),c=s[0],r=(s[1],s[2],Object(n.useState)(!1)),l=Object(u.a)(r,2),i=l[0],d=l[1];return Object(f.jsxs)(J,{children:[Object(f.jsx)("h3",{className:"subTitle spaceXY",children:"REPORTE OPERACIONAL"}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione equipo:"}),Object(f.jsx)(a,{})]}),Object(f.jsxs)("div",{className:"d-grid-report  content-btntext",children:[Object(f.jsx)("p",{className:"text-report",children:"Seleccione Periodo:"}),Object(f.jsx)(c,{})]}),Object(f.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(f.jsx)("button",{className:"filterBtn",children:"GENERAR"})}),Object(f.jsx)("div",{id:"exportTable",className:"contentTableSensor ",children:Object(f.jsxs)("table",{id:"sensoresTable",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:"DOM"}),Object(f.jsx)("th",{children:"LUN"}),Object(f.jsx)("th",{children:"MAR"}),Object(f.jsx)("th",{children:"MI\xc9"}),Object(f.jsx)("th",{children:"JUE"}),Object(f.jsx)("th",{children:"VIE"}),Object(f.jsx)("th",{children:"S\xc1B"})]})}),Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"TOTEM 1"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"TOTEM 2"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"}),Object(f.jsx)("td",{children:"Activo"})]})]})]})}),Object(f.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(f.jsx)("button",{onClick:function(){var e=document.querySelector("#exportTable");d(!0),Object(we.a)(e).then((function(e){var t=new Me.a("l","pt"),a=new Image;a.src="/assets/images/pdf/logoleft.png";var n=new Image;n.src="/assets/images/pdf/logorigth.png",t.addImage(a,"png",30,10,100,20),t.addImage(n,"png",750,13,65,15),t.setFontSize(14),t.setTextColor("0502D3"),t.text(30,80,"REPORTE OPERACIONAL"),t.setFontSize(12),t.setTextColor("262626"),t.text(30,100,"ULTIMOS 7 D\xcdAS"),t.setFontSize(12),t.setTextColor("0502D3"),t.text(30,160,"STATUS DE DISPOSITIVOS"),t.setFontSize(9),t.setTextColor("0502D3"),t.text(30,200,"HORA M\xc1S TRANSITADA: 23H CON 6740 PERSONAS"),t.setFontSize(9),t.setTextColor("424242"),t.text(680,200,"RANGO:23/01/2021-26/01/2021"),t.addImage(e,10,200,830,250),t.setFontSize(9),t.setTextColor("424242"),t.text(30,460,"Reporte generado el 26/01/2021 - 19:43hrs/PE.CCPN.01"),t.setFontSize(9),t.setTextColor("424242"),t.text(680,460,"Tipo de t\xf3tem: t\xf3tem acumulado"),t.save("DSP-SODA-CCPN-PE-A01-20210216-20210223-REPORTE-OPERACIONAL.pdf"),d(!1)}))},className:"filterBtn active",children:i?"CARGANDO...":"GENERAR REPORTE"})})]})},ze=a(351),Ye=function(e){var t,a,o,s,c,r,l,b,j,O,x,h,p,y,S,A,N,E,D,T,M,w,k,C,R,_,F,I,L,H,B,z,Y,G,W,X,q,Z,ae,ne,oe,se,ce,re,le,ie,ue,be,je,me,Oe,xe,he,pe,ve,ge=e.location,fe=e.history,ye=Object(n.useState)({hours:[],week:[],month:[],progress:[]}),Se=Object(u.a)(ye,2),Ae=Se[0],Ne=Se[1],Ee=Object(n.useState)(!1),De=Object(u.a)(Ee,2),Te=De[0],Pe=De[1],ke=Object(n.useState)("PERSONAS"),Ce=Object(u.a)(ke,2),Re=Ce[0],_e=Ce[1],Fe=Object(n.useState)("7"),Ie=Object(u.a)(Fe,2),Le=Ie[0],He=Ie[1];Object(n.useEffect)((function(){Object(d.a)(Object(i.a)().mark((function e(){var t,a,n,o,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ge.state||fe.push("/reportes/especifico"),console.log(ge.state),He(Object(ze.a)(new Date(ge.state.date_to),new Date(ge.state.date_from))),t="?",Object.keys(ge.state).forEach((function(e){return t+="".concat(e,"=").concat(ge.state[e],"&")})),t=t.substring(0,t.length-1),e.next=8,m("/reports/specific".concat(t));case 8:return e.next=10,e.sent.json();case 10:a=e.sent,n=a.hours.map((function(e){return{label:e.time,x:e.hour,y:e[ge.state.gender]}})),o=a.week.map((function(e){return{label:e.dow,x:e.dow,y:e[ge.state.gender]}})),s=a.month.map((function(e){return{label:e.day,x:e.day,y:e[ge.state.gender]}})),c="total"===ge.state.gender?a.progress:a.progress.filter((function(e){return e.name===ge.state.gender||"total"===e.name})),"male"===ge.state.gender&&_e("HOMBRES"),"female"===ge.state.gender&&_e("MUJERES"),c=c.map((function(e){return"male"===e.name&&(e.name="HOMBRES"),"female"===e.name&&(e.name="MUJERES"),"total"===e.name&&(e.name="TOTAL"),e})),Ne(Object(g.a)(Object(g.a)({},a),{},{progress:c,hours:n,week:o,month:s}));case 19:case"end":return e.stop()}}),e)})))()}),[]);var Be=function(){var e=Object(d.a)(Object(i.a)().mark((function e(){var t,a,n,o,s,c,r,l,d,u,b,j,m,O,x,h;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=document.getElementById("exportGrilla"),s=document.querySelector("#grafichour"),c=document.querySelector("#graficweek"),r=document.querySelector("#graficmonth"),l="",d="",u="",b="",Pe(!0),e.next=11,Object(we.a)(o).then((function(e){return l=e}));case 11:return e.next=13,Object(we.a)(s).then((function(e){return d=e}));case 13:return e.next=15,Object(we.a)(c).then((function(e){return u=e}));case 15:return e.next=17,Object(we.a)(r).then((function(e){return b=e}));case 17:j=new Me.a("p","pt"),(m=new Image).src="/assets/images/pdf/logoleft.png",(O=new Image).src="/assets/images/pdf/logorigth.png",j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(9),j.setTextColor(10,24,241),j.text(30,60,"REPORTE COMERCIAL"),j.setFontSize(9),j.setTextColor("black"),j.text(30,80,"ULTIMOS ".concat(Le," DIAS")),j.addImage(l,"jpg",60,90,480,280),j.setFontSize(11),j.setTextColor("262626"),j.text(170,430,"TOTAL DE ".concat("total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR HORA DEL D\xcdA DE AYER")),j.setFontSize(9),j.setTextColor("0502D3"),j.text(30,480,"HORA M\xc1S TRANSITADA: ".concat(Ae.max_hour.hour," CON ").concat(V(null===Ae||void 0===Ae||null===(t=Ae.max_hour)||void 0===t?void 0:t.total)," PERSONAS")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,480,"RANGO:".concat(ge.state.date_from," - ").concat(ge.state.date_to)),j.addImage(d,"jpg",80,490,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,760,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,760,"Tipo de t\xf3tem:  ".concat(ge.state.resource?ge.state.resource:"t\xf3tem acumulado")),j.addPage(),j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(11),j.setTextColor("262626"),j.text(170,90,"TOTAL DE ".concat("total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR D\xcdA DE LA SEMANA")),j.setFontSize(9),j.setTextColor("black"),j.text(30,140,"D\xcdA DE LA SEMANA M\xc1S TRANSITADO: ".concat(Ae.max_week_day.day," CON ").concat(V(null===Ae||void 0===Ae||null===(a=Ae.max_week_day)||void 0===a?void 0:a.total)," PERSONAS")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,140,"RANGO:".concat(ge.state.date_from," - ").concat(ge.state.date_to)),j.addImage(u,"jpg",80,150,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,420,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,420,"Tipo de t\xf3tem:  ".concat(ge.state.resource?ge.state.resource:"t\xf3tem acumulado")),j.setFontSize(11),j.setTextColor("black"),j.text(170,480,"ACUMULADO DE ".concat("total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR CADA D\xcdA DEL MES")),j.setFontSize(9),j.setTextColor("black"),j.text(30,530,"D\xcdA DEL MES MAS TRANSITADO: ".concat(Ae.max_month_day.day," CON ").concat(V(null===Ae||void 0===Ae||null===(n=Ae.max_month_day)||void 0===n?void 0:n.total)," PERSONAS")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,530,"RANGO:".concat(ge.state.date_from," - ").concat(ge.state.date_to)),j.addImage(b,"jpg",80,540,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,810,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(9),j.setTextColor("424242"),j.text(440,810,"Tipo de t\xf3tem:  ".concat(ge.state.resource?ge.state.resource:"t\xf3tem acumulado")),x=j.output("blob"),(h=new FormData).append("file",x),h.append("name","DSP-SODA-CCPN-PE-A01-".concat(ge.state.date_from.replaceAll("-",""),"-").concat(ge.state.date_to.replaceAll("-",""),"-REPORTE-COMERICAL.pdf")),j.save("DSP-SODA-CCPN-PE-A01-".concat(ge.state.date_from.replaceAll("-",""),"-").concat(ge.state.date_to.replaceAll("-",""),"-REPORTE-COMERICAL.pdf")),Pe(!1);case 88:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(J,{children:Object(f.jsxs)("div",{className:"contenedor",children:[Object(f.jsx)("h3",{className:"subTitle spaceTop",children:"REPORTE COMERCIAL"}),Object(f.jsxs)("h3",{className:"subTitle spaceTopSmall color-secundary",children:["ULTIMOS ",Le," D\xcdAS"]}),Object(f.jsxs)("div",{className:"spaceXY",id:"exportGrilla",children:[Object(f.jsxs)("div",{className:"boxGridFour",children:[Object(f.jsx)(Q,{count:null===Ae||void 0===Ae||null===(t=Ae.boxes)||void 0===t||null===(a=t.today)||void 0===a?void 0:a.count,percent:null===Ae||void 0===Ae||null===(o=Ae.boxes)||void 0===o||null===(s=o.today)||void 0===s?void 0:s.percent}),Object(f.jsx)(ee,{theme:"light",count:null===Ae||void 0===Ae||null===(c=Ae.boxes)||void 0===c||null===(r=c.yesterday)||void 0===r?void 0:r.total}),Object(f.jsx)(te,{theme:"light",count:null===Ae||void 0===Ae||null===(l=Ae.boxes)||void 0===l||null===(b=l.week)||void 0===b?void 0:b.total,percent:null===Ae||void 0===Ae||null===(j=Ae.boxes)||void 0===j||null===(O=j.week)||void 0===O?void 0:O.percent}),Object(f.jsx)($,{theme:"light",count:null===Ae||void 0===Ae||null===(x=Ae.boxes)||void 0===x||null===(h=x.total)||void 0===h?void 0:h.count})]}),("total"==(null===(p=ge.state)||void 0===p?void 0:p.gender)||"male"==(null===(y=ge.state)||void 0===y?void 0:y.gender))&&Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"male",count:null===Ae||void 0===Ae||null===(S=Ae.boxes)||void 0===S||null===(A=S.today)||void 0===A?void 0:A.male,total:null===Ae||void 0===Ae||null===(N=Ae.boxes)||void 0===N||null===(E=N.today)||void 0===E?void 0:E.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"male",count:null===Ae||void 0===Ae||null===(D=Ae.boxes)||void 0===D||null===(T=D.yesterday)||void 0===T?void 0:T.male,total:null===Ae||void 0===Ae||null===(M=Ae.boxes)||void 0===M||null===(w=M.yesterday)||void 0===w?void 0:w.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===Ae||void 0===Ae||null===(k=Ae.boxes)||void 0===k||null===(C=k.week)||void 0===C?void 0:C.male,total:null===Ae||void 0===Ae||null===(R=Ae.boxes)||void 0===R||null===(_=R.week)||void 0===_?void 0:_.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===Ae||void 0===Ae||null===(F=Ae.boxes)||void 0===F||null===(I=F.total)||void 0===I?void 0:I.male,total:null===Ae||void 0===Ae||null===(L=Ae.boxes)||void 0===L||null===(H=L.total)||void 0===H?void 0:H.count,txtDay:"TOTAL",theme:"light"})]}),("total"==(null===(B=ge.state)||void 0===B?void 0:B.gender)||"female"==(null===(z=ge.state)||void 0===z?void 0:z.gender))&&Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"female",count:null===Ae||void 0===Ae||null===(Y=Ae.boxes)||void 0===Y||null===(G=Y.today)||void 0===G?void 0:G.female,total:null===Ae||void 0===Ae||null===(W=Ae.boxes)||void 0===W||null===(X=W.today)||void 0===X?void 0:X.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"female",count:null===Ae||void 0===Ae||null===(q=Ae.boxes)||void 0===q||null===(Z=q.yesterday)||void 0===Z?void 0:Z.female,total:null===Ae||void 0===Ae||null===(ae=Ae.boxes)||void 0===ae||null===(ne=ae.yesterday)||void 0===ne?void 0:ne.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===Ae||void 0===Ae||null===(oe=Ae.boxes)||void 0===oe||null===(se=oe.week)||void 0===se?void 0:se.female,total:null===Ae||void 0===Ae||null===(ce=Ae.boxes)||void 0===ce||null===(re=ce.week)||void 0===re?void 0:re.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===Ae||void 0===Ae||null===(le=Ae.boxes)||void 0===le||null===(ie=le.total)||void 0===ie?void 0:ie.female,total:null===Ae||void 0===Ae||null===(ue=Ae.boxes)||void 0===ue||null===(be=ue.total)||void 0===be?void 0:be.count,txtDay:"TOTAL",theme:"light"})]})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL DE ","total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR HORA DEL D\xcdA DE AYER"]}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===(je=Ae.max_hour)||void 0===je?void 0:je.hour," con ",null===(me=Ae.max_hour)||void 0===me?void 0:me.total," personas"]}),Object(f.jsxs)("span",{className:"detailMax",children:["RANGO:",ge.state.date_from," - ",ge.state.date_to]})]}),Object(f.jsx)(U,(Oe={data:Ae.hours,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichourMale"},Object(v.a)(Oe,"id","grafichour"),Object(v.a)(Oe,"theme","bg-yellow"),Oe))]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL DE ","total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR D\xcdA DE LA SEMANA"]}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===(xe=Ae.max_week_day)||void 0===xe?void 0:xe.day," con ",null===(he=Ae.max_week_day)||void 0===he?void 0:he.total," personas"]}),Object(f.jsxs)("span",{className:"detailMax",children:["RANGO:",ge.state.date_from," - ",ge.state.date_to]})]}),Object(f.jsx)(de,{data:Ae.week,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["ACUMULADO DE ","total"===ge.state.gender?"PERSONAS":"".concat(Re)," POR CADA D\xcdA DEL MES"]}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===(pe=Ae.max_month_day)||void 0===pe?void 0:pe.day," con ",null===(ve=Ae.max_month_day)||void 0===ve?void 0:ve.total," personas"]}),Object(f.jsxs)("span",{className:"detailMax",children:["RANGO:",ge.state.date_from," - ",ge.state.date_to]})]}),Object(f.jsx)(U,{data:Ae.month,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-primary",id:"graficmonth"})]}),Object(f.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(f.jsx)("button",{disabled:Te,onClick:Be,className:"filterBtn active",children:Te?"CARGANDO...":"GENERAR REPORTE"})})]})})},Ge=function(e){var t,a,o,s,c,r,l,b=e.location,j=e.history,O=Object(n.useState)({hours:[],week:[],month:[],progress:[]}),x=Object(u.a)(O,2),h=x[0],p=x[1],y=Object(n.useState)(!1),S=Object(u.a)(y,2),A=S[0],N=S[1],E=Object(n.useState)("PERSONAS"),D=Object(u.a)(E,2),T=D[0],M=D[1];Object(n.useEffect)((function(){Object(d.a)(Object(i.a)().mark((function e(){var t,a,n,o,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.state){e.next=2;break}return e.abrupt("return",j.push("/reportes/especifico"));case 2:return t="?",Object.keys(b.state).forEach((function(e){return t+="".concat(e,"=").concat(b.state[e],"&")})),t=t.substring(0,t.length-1),e.next=7,m("/reports/specific".concat(t));case 7:return a=e.sent,e.next=10,a.json();case 10:n=e.sent,o=n.hours.map((function(e){return{label:e.time,x:e.hour,y:e[b.state.gender]}})),s=n.week.map((function(e){return{label:e.dow,x:e.dow,y:e[b.state.gender]}})),c=n.month.map((function(e){return{label:e.day,x:e.day,y:e[b.state.gender]}})),"male"===b.state.gender&&M("HOMBRES"),"female"===b.state.gender&&M("MUJERES"),p(Object(g.a)(Object(g.a)({},n),{},{hours:o,week:s,month:c}));case 17:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(d.a)(Object(i.a)().mark((function e(){var t,a,n,o,s,c,r,l,d,u,j,O,x,p;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Se genero!"),o=document.querySelector("#grafichour"),s=document.querySelector("#graficweek"),c=document.querySelector("#graficmonth "),r="",l="",d="",N(!0),e.next=10,Object(we.a)(o).then((function(e){return r=e}));case 10:return e.next=12,Object(we.a)(s).then((function(e){return l=e}));case 12:return e.next=14,Object(we.a)(c).then((function(e){return d=e}));case 14:return u=new Me.a("p","pt"),(j=new Image).src="/assets/images/pdf/logoleft.png",(O=new Image).src="/assets/images/pdf/logorigth.png",u.addImage(j,"png",30,10,100,20),u.addImage(O,"png",500,13,65,15),u.setFontSize(9),u.setTextColor("0502D3"),u.text(30,60,"REPORTE EJUCUTIVO"),u.setFontSize(11),u.setTextColor("262626"),u.text(170,90,"TOTAL ".concat("total"===b.state.gender?"PERSONAS":"".concat(T)," POR HORA DEL D\xcdA DE AYER")),u.setFontSize(9),u.setTextColor("0502D3"),u.text(30,140,"HORA M\xc1S TRANSITADA: ".concat(h.max_hour.hour," CON ").concat(V(null===h||void 0===h||null===(t=h.max_hour)||void 0===t?void 0:t.total)," PERSONAS")),u.setFontSize(9),u.setTextColor("424242"),u.text(440,140,"RANGO:".concat(b.state.date_from," - ").concat(b.state.date_to)),u.addImage(r,"jpg",80,150,430,250),u.setFontSize(9),u.setTextColor("424242"),u.text(30,420,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),u.setFontSize(9),u.setTextColor("424242"),u.text(440,420,"Tipo de t\xf3tem:  ".concat(b.state.resource?b.state.resource:"t\xf3tem acumulado")),u.setFontSize(11),u.setTextColor("262626"),u.text(170,480,"TOTAL DE ".concat("total"===b.state.gender?"PERSONAS":"".concat(T)," POR D\xcdA DE LA SEMANA")),u.setFontSize(9),u.setTextColor("black"),u.text(30,530,"D\xcdA DE LA SEMANA M\xc1S TRANSITADO: ".concat(h.max_week_day.day," CON ").concat(V(null===h||void 0===h||null===(a=h.max_week_day)||void 0===a?void 0:a.total)," PERSONAS")),u.setFontSize(9),u.setTextColor("424242"),u.text(440,530,"RANGO:".concat(b.state.date_from," - ").concat(b.state.date_to)),u.addImage(l,"jpg",80,540,430,250),u.setFontSize(9),u.setTextColor("424242"),u.text(30,810,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),u.setFontSize(9),u.setTextColor("424242"),u.text(440,810,"Tipo de t\xf3tem:  ".concat(b.state.resource?b.state.resource:"t\xf3tem acumulado")),u.addPage(),u.addImage(j,"png",30,20,100,20),u.addImage(O,"png",500,20,65,15),u.setFontSize(11),u.setTextColor("black"),u.text(170,80,"ACUMULADO DE ".concat("total"===b.state.gender?"PERSONAS":"".concat(T)," POR CADA D\xcdA DEL MES")),u.setFontSize(9),u.setTextColor("black"),u.text(30,130,"D\xcdA DEL MES MAS TRANSITADO: ".concat(h.max_month_day.day," CON ").concat(V(null===h||void 0===h||null===(n=h.max_month_day)||void 0===n?void 0:n.total)," PERSONAS")),u.setFontSize(9),u.setTextColor("424242"),u.text(440,130,"RANGO:".concat(b.state.date_from," - ").concat(b.state.date_to)),u.addImage(d,"jpg",80,140,430,250),u.setFontSize(9),u.setTextColor("424242"),u.text(30,410,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),u.setFontSize(9),u.setTextColor("424242"),u.text(440,410,"Tipo de t\xf3tem:  ".concat(b.state.resource?b.state.resource:"t\xf3tem acumulado")),x=u.output("blob"),(p=new FormData).append("upload_file",x),p.append("name","DSP-SODA-CCPN-PE-A01-".concat(b.state.date_from.replaceAll("-",""),"-").concat(b.state.date_to.replaceAll("-",""),"-REPORTE-EJECUTIVO.pdf")),u.save("DSP-SODA-CCPN-PE-A01-".concat(b.state.date_from.replaceAll("-",""),"-").concat(b.state.date_to.replaceAll("-",""),"-REPORTE-COMERICAL.pdf")),N(!1),e.next=83,m("/reports/upload-file",p,"UPLOAD");case 83:return e.next=85,e.sent.json();case 85:e.sent;case 86:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(J,{children:Object(f.jsxs)("div",{className:"contenedor",children:[Object(f.jsx)("h3",{className:"subTitle spaceTop",children:"REPORTE EJECUTIVO"}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL ","total"===b.state.gender?"PERSONAS":"".concat(T)," POR HORA DEL D\xcdA DE AYER"]}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===(t=h.max_hour)||void 0===t?void 0:t.hour," con ",null===(a=h.max_hour)||void 0===a?void 0:a.total," personas"]}),Object(f.jsxs)("span",{className:"detailMax",children:["RANGO:",b.state.date_from," - ",b.state.date_to]})]}),Object(f.jsx)(U,(o={data:h.hours,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichour"},Object(v.a)(o,"id","grafichour"),Object(v.a)(o,"theme","bg-yellow"),o))]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["TOTAL DE ","total"===b.state.gender?"PERSONAS":"".concat(T)," POR D\xcdA DE LA SEMANA"]}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===(s=h.max_week_day)||void 0===s?void 0:s.day," con ",null===(c=h.max_week_day)||void 0===c?void 0:c.total," personas"]}),Object(f.jsxs)("span",{className:"detailMax",children:["RANGO:",b.state.date_from," - ",b.state.date_to]})]}),Object(f.jsx)(de,{data:h.week,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsxs)("h3",{className:"subTitle  text-center spaceBottomSmall",children:["ACUMULADO DE ","total"===b.state.gender?"PERSONAS":"".concat(T)," POR CADA D\xcdA DEL MES"]}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===(r=h.max_month_day)||void 0===r?void 0:r.day," con ",null===(l=h.max_month_day)||void 0===l?void 0:l.total," personas"]}),Object(f.jsxs)("span",{className:"detailMax",children:["RANGO:",b.state.date_from," - ",b.state.date_to]})]}),Object(f.jsx)(U,{data:h.month,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-yellow",id:"graficmonth"})]}),Object(f.jsx)("div",{className:"groupButtons text-center spaceXY",children:Object(f.jsx)("button",{disabled:A,onClick:w,className:"filterBtn active",children:A?"CARGANDO...":"GENERAR REPORTE"})})]})})},Ue=function(e){var t=e.methodpdf,a=e.methodcsv,n=e.methodshare;return Object(f.jsxs)("div",{className:"btnExportsGraphics",children:[Object(f.jsx)("button",{onClick:a,children:Object(f.jsx)("img",{src:"/assets/icons/downloadcsv.svg"})}),Object(f.jsx)("button",{onClick:t,children:Object(f.jsx)("img",{src:"/assets/icons/Impresion.svg"})}),Object(f.jsx)("button",{onClick:n,children:Object(f.jsx)("img",{src:"/assets/icons/share.svg"})})]})},We=["ccpn001","ccpn002","ccpn003"],Xe=function(e){var t=e.history,a=(Object(S.c)((function(e){return e.trazabilidad})).resources,Object(S.c)((function(e){return e.person})),Object(S.c)((function(e){return e.person}))),o=a.hoursPersonTotal,s=(a.hoursPersonMale,a.hoursPersonFemale,a.weekPersonTotal),c=(a.weekPersonMale,a.weekPersonFemale,a.monthPersonTotal),r=(a.monthPersonMale,a.monthPersonFemale,a.heatmapPersonTotal,a.heatmapPersonRange,a.rangePersonAges,a.maxHourPersonTotal),i=(a.maxHourPersonMale,a.maxHourPersonFemale,a.maxWeekPersonTotal),d=(a.maxWeekPersonMale,a.maxWeekPersonFemale,a.maxMonthPersonTotal),b=(a.maxMonthPersonMale,a.maxMonthPersonFemale,Object(S.c)((function(e){return e.date}))),j=b.dateStartHourPerson,m=b.dateEndHourPerson,O=(b.dateStartHourMalePerson,b.dateEndHourMalePerson,b.dateStartHourFemalePerson,b.dateEndHourFemalePerson,b.dateStartWeekPerson),x=b.dateEndWeekPerson,h=(b.dateStartWeekMalePerson,b.dateEndWeekMalePerson,b.dateStartWeekFemalePerson,b.dateEndWeekFemalePerson,b.dateStartMonthPerson),p=b.dateEndMonthPerson,v=(b.dateStartMonthMalePerson,b.dateEndMonthMalePerson,b.dateStartMonthFemalePerson,b.dateEndMonthFemalePerson,b.dateStartAgePerson,b.dateEndAgePerson,b.dateStartHeatMap,b.dateEndHeatMap,Object(l.h)().name),g=Object(S.b)(),y=ie(I,v,"total","dateStartHourPerson","dateEndHourPerson",""),A=Object(u.a)(y,1)[0],N=ie(L,v,"total","dateStartWeekPerson","dateEndWeekPerson",""),E=Object(u.a)(N,1)[0],D=ie(H,v,"total","dateStartMontPerson","dateEndMonthPerson","",!0),T=Object(u.a)(D,1)[0],P=Oe({0:"HOY",7:"07 D\xcdAS",15:"15 D\xcdAS",30:"30 D\xcdAS"},I,v,"total","dateStartHourPerson","dateEndHourMalePerson","hourstotalrst",1),M=Object(u.a)(P,2),w=M[0],k=(M[1],Oe({7:"ULTIMA SEMANA",30:"30 D\xcdAS"},L,v,"total","dateStartWeekPerson","dateEndWeekPerson","weektotalrst")),C=Object(u.a)(k,2),R=C[0],F=(C[1],Oe({30:"\xdaLTIMO MES",60:"\xdaLTIMO DOS MES",90:"\xdaLTIMO TRES MES"},H,v,"total","dateStartMontPerson","dateEndMonthPerson","monthtotalrst")),B=Object(u.a)(F,2),z=B[0];B[1];return Object(n.useEffect)((function(){We.includes(v.toLowerCase())||t.push("/"),g(Ee()),g(_())}),[]),Object(f.jsxs)(J,{children:[Object(f.jsx)("h3",{className:"subTitle spaceTop",children:"Tienda 1:Panister\xeda"}),Object(f.jsx)("div",{className:"spaceTop",children:Object(f.jsx)("div",{className:"contentcanvas   m-auto",children:Object(f.jsx)("canvas",{style:{backgroundImage:"url(/assets/images/planoflujo.jpg)"},className:"mt",id:"monitoreoSensor",width:"1024",height:"556"})})}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA"}),Object(f.jsxs)("span",{className:"spaceBottom text-center d-block",children:["( ",j," - ",m," )"]}),o.length>0&&Object(f.jsx)(w,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===r||void 0===r?void 0:r.hour," con ",V(null===r||void 0===r?void 0:r.total)," personas"]}),o.length>0&&Object(f.jsx)(A,{})]}),Object(f.jsx)(U,{data:o,label:"Total de Personas",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Personas:",scltxtlbl:"Cantidad de Personas",scalebg:"#0502D3",theme:"bg-yellow",id:"grafichourTotal"}),o.length>0&&Object(f.jsx)(Ue,{methodpdf:function(){return Ce("grafichourTotal",j,m,"TOTAL DE HOMBRES POR HORA DEL D\xcdA","HORA M\xc1S TRANSITADA: ".concat(r.hour," CON ").concat(V(r.total)," PERSONAS"),!1,v)},methodcsv:function(){return _e("hour",j,m,"DE-HOMBRES-POR-HORA-DEL-DIA")},methodshare:function(){return Fe("grafichourTotal",j,m,"hour","P")}})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",O," - ",x," )"]}),s.length>0&&Object(f.jsx)(R,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===i||void 0===i?void 0:i.day," con ",V(null===i||void 0===i?void 0:i.total)," personas"]}),s.length>0&&Object(f.jsx)(E,{})]}),Object(f.jsx)(de,{data:s,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"}),s.length>0&&Object(f.jsx)(Ue,{methodpdf:function(){return Ce("graficweek",O,x,"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA","DIA M\xc1S TRANSITADO: ".concat(i.day," CON ").concat(V(i.total)," PERSONAS"),!1,v)},methodcsv:function(){return _e("week",O,x,"DE-PERSONAS-POR-DIA-DE-LA-SEMANA")},methodshare:function(){return Fe("graficweek",O,x,"week","P")}})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center",children:"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"}),Object(f.jsxs)("span",{className:"spaceBottom range-date text-center d-block",children:["( ",h," - ",p," )"]}),c.length>0&&Object(f.jsx)(z,{}),Object(f.jsxs)("div",{className:"detailGrafic spaceBottom",children:[Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===d||void 0===d?void 0:d.day," con ",null===d||void 0===d?void 0:d.total," personas"]}),c.length>0&&Object(f.jsx)(T,{})]}),Object(f.jsx)(U,{data:c,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-yellow",id:"graficmonth"}),c.length>0&&Object(f.jsx)(Ue,{methodpdf:function(){return Ce("graficmonth",h,p,"TOTAL DE PERSONAS POR D\xcdA DEL MES","DIA M\xc1S TRANSITADA: ".concat(d.day," CON ").concat(V(d.total)," PERSONAS"),!1,v)},methodcsv:function(){return _e("month",h,p,"DE-PERSONAS-POR-DIA-DEL-MES")},methodshare:function(){return Fe("graficmonth",h,p,"month","P")}})]})]})},qe=function(){var e,t,a,o,s,c,r,l,b,j,m,O,x,h,p,y,S,A,N,E,D,T,M,w,k,C,R,_,F,I,L,H,B,z,Y,G,W,X,q,Z,ae,ne,oe,se,ce,re,le,ie,ue,be,je,me=Object(n.useState)({hours:[],week:[],month:[],progress:[]}),Oe=Object(u.a)(me,2),xe=Oe[0],he=Oe[1];return Object(n.useEffect)((function(){Object(d.a)(Object(i.a)().mark((function e(){var t,a,n,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dashboard.qonteo.com/REST/reports/specific?report_type=c",{headers:{"Content-type":"Application/json",Authorization:"bear eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eydzdWInOiAnNDQyNDQ4JywgJ2lhdCc6IDE1OTg4ODczOTl9.20f471933ae0a9c58d525f4ab0c1eef7adab03f17c3bbe18a00cf30a1ef06948"}});case 2:return e.next=4,e.sent.json();case 4:t=e.sent,console.log(t),a=t.hours.map((function(e){return{label:e.time,x:e.hour,y:e.total}})),n=t.week.map((function(e){return{label:e.dow,x:e.dow,y:e.total}})),o=t.month.map((function(e){return{label:e.day,x:e.day,y:e.total}})),he(Object(g.a)(Object(g.a)({},t),{},{hours:a,week:n,month:o}));case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){Object(d.a)(Object(i.a)().mark((function e(){var t,a,n,o,s,c,r,l,d,u,b,j,m,O,x,h,p;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(xe.hours.length>0)){e.next=71;break}return o=document.getElementById("exportGrilla"),s=document.querySelector("#grafichour"),c=document.querySelector("#graficweek"),r=document.querySelector("#graficmonth"),l="",d="",u="",b="",e.next=11,Object(we.a)(o).then((function(e){return l=e}));case 11:return e.next=13,Object(we.a)(s).then((function(e){return d=e}));case 13:return e.next=15,Object(we.a)(c).then((function(e){return u=e}));case 15:return e.next=17,Object(we.a)(r).then((function(e){return b=e}));case 17:return j=new Me.a("p","pt"),(m=new Image).src="/assets/images/pdf/logoleft.png",(O=new Image).src="/assets/images/pdf/logorigth.png",j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(9),j.setTextColor(10,24,241),j.text(30,60,"REPORTE COMERCIAL"),j.addImage(l,"jpg",60,90,480,280),j.setFontSize(11),j.setTextColor("262626"),j.text(170,430,"TOTAL DE  PERSONAS POR HORA DEL D\xcdA DE AYER"),j.setFontSize(9),j.setTextColor("0502D3"),j.text(30,480,"HORA M\xc1S TRANSITADA: ".concat(xe.max_hour.hour," CON ").concat(V(null===xe||void 0===xe||null===(t=xe.max_hour)||void 0===t?void 0:t.total)," PERSONAS")),j.addImage(d,"jpg",80,490,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,760,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.addPage(),j.addImage(m,"png",30,10,100,20),j.addImage(O,"png",500,13,65,15),j.setFontSize(11),j.setTextColor("262626"),j.text(170,90,"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"),j.setFontSize(9),j.setTextColor("black"),j.text(30,140,"D\xcdA DE LA SEMANA M\xc1S TRANSITADO: ".concat(xe.max_week_day.day," CON ").concat(V(null===xe||void 0===xe||null===(a=xe.max_week_day)||void 0===a?void 0:a.total)," PERSONAS")),j.addImage(u,"jpg",80,150,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,420,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),j.setFontSize(11),j.setTextColor("black"),j.text(170,480,"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"),j.setFontSize(9),j.setTextColor("black"),j.text(30,530,"D\xcdA DEL MES MAS TRANSITADO: ".concat(xe.max_month_day.day," CON ").concat(V(null===xe||void 0===xe||null===(n=xe.max_month_day)||void 0===n?void 0:n.total)," PERSONAS")),j.addImage(b,"jpg",80,540,430,250),j.setFontSize(9),j.setTextColor("424242"),j.text(30,810,"Reporte generado el ".concat(Object(P.default)(new Date,"yyyy-MM-dd")," - ").concat(Object(P.default)(new Date,"HH:mm")," hrs/PE.CCPN.01")),x=j.output("blob"),(h=new FormData).append("upload_file",x),h.append("name","DSP-SODA-CCPN-PE-A01-REPORTE-COMERICAL.pdf"),e.next=67,fetch("https://dashboard.qonteo.com/REST/reports/upload-file",{method:"POST",headers:{Authorization:"bear eyJhbGciOiAiSFMyNTYiLCAidHlwIjogIkpXVCJ9.eydzdWInOiAnNDQyNDQ4JywgJ2lhdCc6IDE1OTg4ODczOTl9.20f471933ae0a9c58d525f4ab0c1eef7adab03f17c3bbe18a00cf30a1ef06948"},body:h});case 67:return e.next=69,e.sent.json();case 69:p=e.sent,console.log(p);case 71:case"end":return e.stop()}}),e)})))()}),[xe]),Object(f.jsx)(J,{isSidebar:!1,children:Object(f.jsxs)("div",{className:"contenedor",children:[Object(f.jsx)("h3",{className:"subTitle spaceTop",children:"REPORTE COMERCIAL"}),Object(f.jsx)("h3",{className:"subTitle spaceTopSmall color-secundary",children:"ULTIMOS  D\xcdAS"}),Object(f.jsxs)("div",{className:"spaceXY",id:"exportGrilla",children:[Object(f.jsxs)("div",{className:"boxGridFour",children:[Object(f.jsx)(Q,{count:null===xe||void 0===xe||null===(e=xe.boxes)||void 0===e||null===(t=e.today)||void 0===t?void 0:t.count,percent:null===xe||void 0===xe||null===(a=xe.boxes)||void 0===a||null===(o=a.today)||void 0===o?void 0:o.percent}),Object(f.jsx)(ee,{theme:"light",count:null===xe||void 0===xe||null===(s=xe.boxes)||void 0===s||null===(c=s.yesterday)||void 0===c?void 0:c.total}),Object(f.jsx)(te,{theme:"light",count:null===xe||void 0===xe||null===(r=xe.boxes)||void 0===r||null===(l=r.week)||void 0===l?void 0:l.total,percent:null===xe||void 0===xe||null===(b=xe.boxes)||void 0===b||null===(j=b.week)||void 0===j?void 0:j.percent}),Object(f.jsx)($,{theme:"light",count:null===xe||void 0===xe||null===(m=xe.boxes)||void 0===m||null===(O=m.total)||void 0===O?void 0:O.count})]}),Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"male",count:null===xe||void 0===xe||null===(x=xe.boxes)||void 0===x||null===(h=x.today)||void 0===h?void 0:h.male,total:null===xe||void 0===xe||null===(p=xe.boxes)||void 0===p||null===(y=p.today)||void 0===y?void 0:y.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"male",count:null===xe||void 0===xe||null===(S=xe.boxes)||void 0===S||null===(A=S.yesterday)||void 0===A?void 0:A.male,total:null===xe||void 0===xe||null===(N=xe.boxes)||void 0===N||null===(E=N.yesterday)||void 0===E?void 0:E.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===xe||void 0===xe||null===(D=xe.boxes)||void 0===D||null===(T=D.week)||void 0===T?void 0:T.male,total:null===xe||void 0===xe||null===(M=xe.boxes)||void 0===M||null===(w=M.week)||void 0===w?void 0:w.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"male",count:null===xe||void 0===xe||null===(k=xe.boxes)||void 0===k||null===(C=k.total)||void 0===C?void 0:C.male,total:null===xe||void 0===xe||null===(R=xe.boxes)||void 0===R||null===(_=R.total)||void 0===_?void 0:_.count,txtDay:"TOTAL",theme:"light"})]}),Object(f.jsxs)("div",{className:"boxGridFour spaceTop",children:[Object(f.jsx)(K,{gender:"female",count:null===xe||void 0===xe||null===(F=xe.boxes)||void 0===F||null===(I=F.today)||void 0===I?void 0:I.female,total:null===xe||void 0===xe||null===(L=xe.boxes)||void 0===L||null===(H=L.today)||void 0===H?void 0:H.count,txtDay:"HOY"}),Object(f.jsx)(K,{gender:"female",count:null===xe||void 0===xe||null===(B=xe.boxes)||void 0===B||null===(z=B.yesterday)||void 0===z?void 0:z.female,total:null===xe||void 0===xe||null===(Y=xe.boxes)||void 0===Y||null===(G=Y.yesterday)||void 0===G?void 0:G.total,txtDay:"AYER",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===xe||void 0===xe||null===(W=xe.boxes)||void 0===W||null===(X=W.week)||void 0===X?void 0:X.female,total:null===xe||void 0===xe||null===(q=xe.boxes)||void 0===q||null===(Z=q.week)||void 0===Z?void 0:Z.total,txtDay:"ESTA SEMANA",theme:"light"}),Object(f.jsx)(K,{gender:"female",count:null===xe||void 0===xe||null===(ae=xe.boxes)||void 0===ae||null===(ne=ae.total)||void 0===ne?void 0:ne.female,total:null===xe||void 0===xe||null===(oe=xe.boxes)||void 0===oe||null===(se=oe.total)||void 0===se?void 0:se.count,txtDay:"TOTAL",theme:"light"})]})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center spaceBottomSmall",children:"TOTAL DE PERSONAS POR HORA DEL D\xcdA DE AYER"}),Object(f.jsx)("div",{className:"detailGrafic spaceBottom",children:Object(f.jsxs)("span",{className:"detailMax",children:["Hora m\xe1s transitada: ",null===(ce=xe.max_hour)||void 0===ce?void 0:ce.hour," con ",null===(re=xe.max_hour)||void 0===re?void 0:re.total," personas"]})}),Object(f.jsx)(U,(le={data:xe.hours,label:"Total de Hombres",dtsetbg:"#0502D3",optionbg:"#454545",legendbg:"#454545",title:" Hora:",labelop:" Total de Hombres:",scltxtlbl:"Cantidad de Hombres",scalebg:"#0502D3",id:"grafichourMale"},Object(v.a)(le,"id","grafichour"),Object(v.a)(le,"theme","bg-yellow"),le))]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center spaceBottomSmall",children:"TOTAL DE PERSONAS POR D\xcdA DE LA SEMANA"}),Object(f.jsx)("div",{className:"detailGrafic spaceBottom",children:Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda de la semana m\xe1s transitado: ",null===(ie=xe.max_week_day)||void 0===ie?void 0:ie.day," con ",null===(ue=xe.max_week_day)||void 0===ue?void 0:ue.total," personas"]})}),Object(f.jsx)(de,{data:xe.week,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda",labelop:"tr\xe1nsito de personas",scltxtlbl:"Cantidad de Personas",id:"graficweek"})]}),Object(f.jsxs)("div",{className:"spaceXY d-block",children:[Object(f.jsx)("h3",{className:"subTitle  text-center spaceBottomSmall",children:"ACUMULADO DE PERSONAS POR CADA D\xcdA DEL MES"}),Object(f.jsx)("div",{className:"detailGrafic spaceBottom",children:Object(f.jsxs)("span",{className:"detailMax",children:["D\xeda del mes m\xe1s transitado: ",null===(be=xe.max_month_day)||void 0===be?void 0:be.day," con ",null===(je=xe.max_month_day)||void 0===je?void 0:je.total," personas"]})}),Object(f.jsx)(U,{data:xe.month,label:"Tiempo (D\xedas)",dtsetbg:"#0a18f1",optionbg:"#454545",scalebg:"#0502D3",title:"D\xeda: ",labelop:"tr\xe1nsito de Personas",scltxtlbl:"Cantidad de Personas",theme:"bg-primary",id:"graficmonth"})]})]})})},Je=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.auth})),a=t.isCheking,o=t.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(Object(i.a)().mark((function e(t){var a,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((localStorage.getItem("token-qonteo")||"").length>0)){e.next=17;break}return e.prev=2,e.next=5,j("token-renew");case 5:return e.next=7,e.sent.json();case 7:a=e.sent,Object.keys(a).length>0&&(n=a.user,t(p({uid:n._id,firstNames:n.firstNames,lastName:n.lastName,email:n.email,phonenumber:n.phonenumber,portraitUrl:n.portrait_url,country:n.country,city:n.city,groups:n.groups,isCheking:!0}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(h()),console.log("error");case 15:e.next=18;break;case 17:t(h());case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(f.jsx)(r.a,{children:Object(f.jsx)("div",{children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(ye,{isAuthenticated:!!o,path:"/auth/login",exact:!0,component:D}),Object(f.jsx)(ye,{isAuthenticated:!!o,exact:!0,path:"/auth/registrarse",component:T}),Object(f.jsx)(Ae,{isAuthenticated:!!o,path:"/",exact:!0,component:Le.isBrowser?ve:Ie}),Object(f.jsx)(Ae,{isAuthenticated:!!o,exact:!0,path:"/reportes/especifico",component:He}),Object(f.jsx)(Ae,{isAuthenticated:!!o,exact:!0,path:"/reportes/operacional",component:Be}),Object(f.jsx)(Ae,{isAuthenticated:!!o,exact:!0,path:"/reportes-screen/comercial",component:Ye}),Object(f.jsx)(Ae,{isAuthenticated:!!o,exact:!0,path:"/reportes-screen/ejecutivo",component:Ge}),Object(f.jsx)(Ae,{isAuthenticated:!!o,exact:!0,path:"/trazabilidad/comercio",component:Pe}),Object(f.jsx)(Ae,{isAuthenticated:!!o,exact:!0,path:"/sensor/:name",component:Xe}),Object(f.jsx)(l.b,{exact:!0,path:"/export-test",component:qe}),Object(f.jsx)(l.a,{to:"/"})]})})}):Object(f.jsx)("h3",{children:"Cargando..."})},Ve=a(50),Ze={isCheking:!1},Qe={dateStartHourPerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndHourPerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartHourMalePerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndHourMalePerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartHourFemalePerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndHourFemalePerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartWeekPerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndWeekPerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartWeekMalePerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndWeekMalePerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartWeekFemalePerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndWeekFemalePerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartMonthPerson:Object(P.default)(Object(w.default)(new Date,1),"yyyy-MM-dd"),dateEndMonthPerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartMonthMalePerson:Object(P.default)(Object(w.default)(new Date,1),"yyyy-MM-dd"),dateEndMonthMalePerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartMonthFemalePerson:Object(P.default)(Object(w.default)(new Date,1),"yyyy-MM-dd"),dateEndMonthFemalePerson:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartHeatMap:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndHeatMap:Object(P.default)(new Date,"yyyy-MM-dd"),dateStartAgePerson:Object(P.default)(Object(M.default)(new Date,7),"yyyy-MM-dd"),dateEndAgePerson:Object(P.default)(new Date,"yyyy-MM-dd")},$e={hoursPersonTotal:[],hoursPersonMale:[],hoursPersonFemale:[],weekPersonTotal:[],weekPersonMale:[],weekPersonFemale:[],monthPersonTotal:[],monthPersonMale:[],monthPersonFemale:[],heatmapPersonTotal:[],heatmapPersonRange:[],rangePersonAges:[],maxHourPersonTotal:{},maxHourPersonMale:{},maxHourPersonFemale:{},maxWeekPersonTotal:{},maxWeekPersonMale:{},maxWeekPersonFemale:{},maxMonthPersonTotal:{},maxMonthPersonMale:{},maxMonthPersonFemale:{}},Ke={resources:[],totemTotal:{},tabs:[]},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;return t.type===O.getToten?Object(g.a)(Object(g.a)({},e),t.payload):e},tt={resources:[],hours:[]},at=Object(Ve.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.authLogin:return Object(g.a)(Object(g.a)({},e),{},{isCheking:!1},t.payload);case O.authCheckingFinish:return Object(g.a)(Object(g.a)({},e),{},{isCheking:!0});case O.logout:case O.authChecking:return{isCheking:!0};default:return e}},person:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;return t.type===O.initializePerson?Object(g.a)(Object(g.a)({},e),t.payload):e},date:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O.changeDate:return Object(g.a)(Object(g.a)({},t),{},(e={},Object(v.a)(e,a.start,a.startvalue),Object(v.a)(e,a.end,a.endvalue),e));case O.resetDates:return Qe;default:return t}},toten:et,trazabilidad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.initialDataTrazabilidad:return Object(g.a)(Object(g.a)({},e),t.payload);case O.changeTrazabilidadByHour:return Object(g.a)(Object(g.a)({},e),{},{resources:t.payload});default:return e}}}),nt=a(143),ot="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ve.c,st=Object(Ve.d)(at,ot(Object(Ve.a)(nt.a))),ct=(a(342),function(){return Object(f.jsx)(S.a,{store:st,children:Object(f.jsx)(Je,{})})});c.a.render(Object(f.jsx)(ct,{}),document.getElementById("root"))}},[[343,1,2]]]);
//# sourceMappingURL=main.0e423650.chunk.js.map